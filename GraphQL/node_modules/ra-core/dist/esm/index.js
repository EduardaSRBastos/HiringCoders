var wr=Object.defineProperty,ma=Object.defineProperties;var fa=Object.getOwnPropertyDescriptors;var Lt=Object.getOwnPropertySymbols;var _o=Object.prototype.hasOwnProperty,zo=Object.prototype.propertyIsEnumerable;var Wo=(e,t,r)=>t in e?wr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y=(e,t)=>{for(var r in t||(t={}))_o.call(t,r)&&Wo(e,r,t[r]);if(Lt)for(var r of Lt(t))zo.call(t,r)&&Wo(e,r,t[r]);return e},D=(e,t)=>ma(e,fa(t));var n=(e,t)=>wr(e,"name",{value:t,configurable:!0});var he=e=>typeof e=="symbol"?e:e+"",F=(e,t)=>{var r={};for(var o in e)_o.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&Lt)for(var o of Lt(e))t.indexOf(o)<0&&zo.call(e,o)&&(r[o]=e[o]);return r};var ya=(e,t)=>{for(var r in t)wr(e,r,{get:t[r],enumerable:!0})};import*as mo from"react";import*as Pe from"react";import{useMemo as uo}from"react";import{QueryClientProvider as dc,QueryClient as pc}from"react-query";import*as we from"react";import{useMemo as xa}from"react";import{useInRouterContext as Ca}from"react-router-dom";import{createHashHistory as Ta}from"history";import*as Ho from"react";import{useLayoutEffect as ga,useState as Ra}from"react";import{Router as Pa}from"react-router";function Yo({basename:e,children:t,history:r}){let[o,s]=Ra({action:r.action,location:r.location});return ga(()=>r.listen(s),[r]),Ho.createElement(Pa,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:r})}n(Yo,"HistoryRouter");import*as Jo from"react";import{createContext as ha}from"react";var bt=ha("");var $o=n(({children:e,basename:t})=>Jo.createElement(bt.Provider,{value:t},e),"BasenameContextProvider");var Zo=n(({history:e,basename:t="",children:r})=>{let o=Ca();return we.createElement($o,{basename:o?t:""},we.createElement(o?Ma:Sa,{basename:t,history:e},r))},"AdminRouter"),Ma=n(({children:e})=>we.createElement(we.Fragment,null,e),"DummyRouter"),Sa=n(({children:e,history:t})=>{let r=xa(()=>t||Ta(),[t]);return we.createElement(Yo,{history:r},e)},"InternalRouter");var af=n((e,t,r="edit")=>{let o=`${e}/${encodeURIComponent(t)}`;return r==="show"?`${o}/show`:o},"linkToRecord");var cf=n((e,t,r,o,s="")=>{if(typeof e=="function"){let a=e(t,r,o);return typeof a=="string"?Oe(`${s}/${a}`):y({pathname:Oe(`${s}/${a.pathname}`)},a)}switch(e){case"list":return Oe(`${s}/${t}`);case"create":return Oe(`${s}/${t}/create`);case"edit":return Oe(`${s}/${t}/${encodeURIComponent(r)}`);case"show":return Oe(`${s}/${t}/${encodeURIComponent(r)}/show`);default:return e}},"resolveRedirectTo"),Oe=n(e=>e.replace("//","/"),"removeDoubleSlashes");import{useContext as La}from"react";var ie=n(()=>La(bt),"useBasename");import{useCallback as ba}from"react";var vt=n(()=>{let e=ie();return ba(({resource:t,id:r,type:o})=>{switch(o){case"list":return ue(`${e}/${t}`);case"create":return ue(`${e}/${t}/create`);case"edit":return ue(`${e}/${t}/${encodeURIComponent(r)}`);case"show":return ue(`${e}/${t}/${encodeURIComponent(r)}/show`);default:return o}},[e])},"useCreatePath"),ue=n(e=>e.replace("//","/"),"removeDoubleSlashes");import{useCallback as va}from"react";import{useNavigate as Ea}from"react-router-dom";import{parsePath as wa}from"history";var ce=n(()=>{let e=Ea(),t=ie(),r=vt();return va((o,s="",a,i,u={})=>{if(o)if(typeof o=="function"){let l=o(s,a,i),c=typeof l=="string"?`${t}/${l}`:y({pathname:`${t}/${l.pathname}`},l);e(typeof c=="string"?wa(c):c,{state:y({_scrollToTop:!0},u)});return}else if(typeof o=="string"&&o.startsWith("http")&&window){window.location.href=o;return}else{e(r({resource:s,id:a,type:o}),{state:y({_scrollToTop:!0},u)});return}else return},[e,t,r])},"useRedirect");import{useEffect as Da}from"react";import{useLocation as Ia}from"react-router-dom";var Bo=n(()=>{let e=Ia();Da(()=>{var t;((t=e.state)==null?void 0:t._scrollToTop)&&typeof window!="undefined"&&window.scrollTo(0,0)},[e])},"useScrollToTop");import{createContext as Aa}from"react";var Fa={id:""},Na={login:()=>Promise.resolve(),logout:()=>Promise.resolve(),checkAuth:()=>Promise.resolve(),checkError:()=>Promise.resolve(),getPermissions:()=>Promise.resolve(),getIdentity:()=>Promise.resolve(Fa)},qo=Aa(Na);qo.displayName="AuthContext";var Be=qo;import{useContext as Oa}from"react";var Ue={loginUrl:"/login",afterLoginUrl:"/"},Ua=n(()=>Oa(Be),"useAuthProvider"),te=Ua;import{useEffect as zi}from"react";import{useCallback as Gi}from"react";import{useCallback as Sn,useEffect as Ui,useRef as Ln}from"react";import{useLocation as ki,useNavigate as ji}from"react-router-dom";var ge="RaStore",Et=ge.length,ka=n(()=>{if(typeof window=="undefined"||window.localStorage==null)return!1;try{return window.localStorage.setItem("test","test"),window.localStorage.removeItem("test"),!0}catch{return!1}},"testLocalStorage"),Dr=ka(),Af=n((e="1")=>{let t={},r=n((s,a)=>{Object.keys(t).forEach(i=>{!t[i]||t[i].key===s&&t[i].callback(a)})},"publish"),o=n(s=>{if(s.key.substring(0,Et)!==ge)return;let a=s.key.substring(Et+1),i=Ko(s.newValue);Object.keys(t).forEach(u=>{!t[u]||t[u].key===a&&(i===null?t[u].callback(void 0):t[u].callback(i==null?void 0:i))})},"onLocalStorageChange");return{setup:()=>{if(Dr){let s=xe().getItem(`${ge}.version`);s&&s!==e&&xe().clear(),xe().setItem(`${ge}.version`,e),window.addEventListener("storage",o)}},teardown:()=>{Dr&&window.removeEventListener("storage",o)},getItem(s,a){let i=Ko(xe().getItem(`${ge}.${s}`));return i==null?a:i},setItem(s,a){a===void 0?xe().removeItem(`${ge}.${s}`):xe().setItem(`${ge}.${s}`,JSON.stringify(a)),r(s,a)},removeItem(s){xe().removeItem(`${ge}.${s}`),r(s,void 0)},reset(){let s=xe();for(let a=0;a<s.length;a++)if(s.key(a).substring(0,Et)===ge){let i=s.key(a).substring(Et+1);s.removeItem(s.key(a)),r(i,void 0)}},subscribe:(s,a)=>{let i=Math.random().toString();return t[i]={key:s,callback:a},()=>{delete t[i]}}}},"localStorageStore"),Ko=n(e=>{try{return JSON.parse(e)}catch{return e}},"tryParse"),Ir=class{constructor(){this.valuesMap=new Map}getItem(t){return this.valuesMap.has(t)?String(this.valuesMap.get(t)):null}setItem(t,r){this.valuesMap.set(t,r)}removeItem(t){this.valuesMap.delete(t)}clear(){this.valuesMap.clear()}key(t){if(arguments.length===0)throw new TypeError("Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.");return Array.from(this.valuesMap.keys())[t]}get length(){return this.valuesMap.size}};n(Ir,"LocalStorageShim");var ja=new Ir,xe=n(()=>Dr?window.localStorage:ja,"getStorage");import Va from"lodash/set";import Xo from"lodash/unset";import Ga from"lodash/get";var wt=n((e={})=>{let t={},r=n((o,s)=>{Object.keys(t).forEach(a=>{!t[a]||t[a].key===o&&t[a].callback(s)})},"publish");return{setup:()=>{},teardown:()=>{Object.keys(e).forEach(o=>delete e[o])},getItem(o,s){return Ga(e,o,s)},setItem(o,s){Va(e,o,s),r(o,s)},removeItem(o){Xo(e,o),r(o,void 0)},reset(){Object.keys(e).forEach(o=>{Xo(e,o),r(o,void 0)})},subscribe:(o,s)=>{let a=Math.random().toString();return t[a]={key:o,callback:s},()=>{delete t[a]}}}},"memoryStore");import{createContext as Qa}from"react";var _a=wt(),Dt=Qa(_a);import*as en from"react";import{useEffect as za}from"react";var tn=n(({value:e,children:t})=>(za(()=>(e.setup(),()=>{e.teardown()}),[e]),en.createElement(Dt.Provider,{value:e},t)),"StoreContextProvider");import*as It from"react";import{useEffect as Ha}from"react";import{useContext as Wa}from"react";var Ce=n(()=>Wa(Dt),"useStoreContext");var Bf=n(({value:e,name:t,children:r})=>{let{setItem:o}=Ce();return Ha(()=>{o(t,e)},[t,o,e]),It.createElement(It.Fragment,null,r)},"StoreSetter");import{useState as Fi,useEffect as Ni}from"react";var Ya=n(e=>e.replace(/(\(|\))/g,"\\$1"),"default");import*as Nr from"react";import{memo as pi}from"react";import*as an from"react";import ti from"lodash/get";import*as nn from"react";import{useEffect as Xa,useState as sn}from"react";import{createContext as Ja}from"react";var qe=Ja({translate:e=>e,changeLocale:()=>Promise.resolve(),getLocale:()=>"en"});qe.displayName="I18nContext";import{useCallback as Ba}from"react";import{useContext as Za}from"react";import{createContext as $a}from"react";var At=$a({notifications:[],addNotification:()=>{},takeNotification:()=>{},resetNotifications:()=>{}});var Ft=n(()=>Za(At),"useNotificationContext");var G=n(()=>{let{addNotification:e}=Ft();return Ba((t,r={})=>{let a=r,{type:o="info"}=a,s=F(a,["type"]);e({message:t,type:o,notificationOptions:s})},[e])},"useNotify");import*as rn from"react";import{useState as qa,useCallback as Ar,useMemo as Ka}from"react";var on=n(({children:e})=>{let[t,r]=qa([]),o=Ar(u=>{r(l=>[...l,u])},[]),s=Ar(()=>{let[u,...l]=t;return r(l),u},[t]),a=Ar(()=>{r([])},[]),i=Ka(()=>({notifications:t,addNotification:o,takeNotification:s,resetNotifications:a}),[t]);return rn.createElement(At.Provider,{value:i},e)},"NotificationContextProvider");var Nt=n(({value:e=ei,children:t})=>{let[r]=le("locale"),o=G(),[s,a]=sn(0),[i,u]=sn(r===e.getLocale());return Xa(()=>{r&&e.getLocale()!==r?new Promise(l=>{l(e.changeLocale(r))}).then(()=>{a(l=>l+1),u(!0)}).catch(l=>{u(!0),o("ra.notification.i18n_error",{type:"warning"}),console.error(l)}):u(!0)},[e,r,o]),i?nn.createElement(qe.Provider,{value:e,key:s},t):null},"I18nContextProvider"),ei={translate:e=>e,changeLocale:()=>Promise.resolve(),getLocale:()=>"en"};var xy=n(({translate:e,messages:t,children:r})=>an.createElement(Nt,{value:{translate:t?(o,s)=>{let a=ti(t,o);return a?typeof a=="function"?a(s):a:s._}:e,changeLocale:()=>Promise.resolve(),getLocale:()=>"en"}},r),"TestTranslationProvider");import{createContext as ri}from"react";var Ot=ri(void 0);import*as un from"react";var by=n(({children:e,value:t})=>un.createElement(Ot.Provider,{value:t},e),"TranslatableContextProvider");import oi from"lodash/merge";var Dy=n((e,t)=>{let{language:r,browserLanguage:o,userLanguage:s}=window.navigator,a=r||o||s||e||cn;return(t==null?void 0:t.fullLocale)?a:a.split("-")[0]},"resolveBrowserLocale"),Iy=n((...e)=>oi({},...e),"mergeTranslations");import{useMemo as si}from"react";import{useContext as ni}from"react";var Ut=n(()=>ni(qe),"useI18nProvider");var ke=n(()=>{let e=Ut(),t=si(()=>e.getLocale(),[e]);return le("locale",t)},"useLocaleState");var Qy=n(()=>{let[e]=ke();return e},"useLocale");var Wy=n(()=>{let[,e]=ke();return e},"useSetLocale");import{useState as ci,useMemo as li}from"react";import{useCallback as ui}from"react";import{useCallback as ai}from"react";var _=n(()=>{let e=Ut(),t=ai((r,o)=>e.translate(r,o),[e]);return e?t:ii},"useTranslate"),ii=n(e=>e,"identity");var kt=n(()=>{let e=_(),t=jt(),r=z();return ui(({source:o,label:s,resource:a})=>s===!1||s===""?null:s&&typeof s!="string"?s:e(...Fr({label:s,prefix:t,resource:a,resourceFromContext:r,source:o})),[t,r,e])},"useTranslateLabel");var sg=n(e=>{let[t]=ke(),{defaultLocale:r=t,locales:o}=e,[s,a]=ci(r),i=z({}),u=kt();return li(()=>({getSource:(c,m=s)=>`${c}.${m}`,getLabel:(c,m)=>u({source:c,resource:i,label:m}),locales:o,selectedLocale:s,selectLocale:a}),[o,i,s,u])},"useTranslatable");import{useContext as di}from"react";var lg=n(()=>{let e=di(Ot);if(!e)throw new Error("useTranslatableContext must be used inside a TranslatableContextProvider");return e},"useTranslatableContext");var cn="en";var ln=n(e=>{let{source:t,label:r,resource:o,isRequired:s}=e,a=kt();return r===!1||r===""?null:r&&typeof r!="string"?r:Nr.createElement("span",null,a({label:r,resource:o,source:t}),s&&Nr.createElement("span",{"aria-hidden":"true"},"\u2009*"))},"FieldTitle");ln.displayName="FieldTitle";var mi=pi(ln);import fi from"inflection";var Fr=n(e=>{if(!e)return[""];let{label:t,prefix:r,resource:o,resourceFromContext:s,source:a}=e;if(typeof t!="undefined")return[t,{_:t}];if(typeof a=="undefined")return[""];let{sourceWithoutDigits:i,sourceSuffix:u}=yi(a),l=fi.transform(u.replace(/\./g," "),["underscore","humanize"]);return o?[`resources.${o}.fields.${i}`,{_:l}]:r?[`${r}.${i}`,{_:l}]:[`resources.${s}.fields.${i}`,{_:l}]},"default"),yi=n(e=>{let t=e.replace(/\.\d+\./g,"."),r=e.split("."),o;r.forEach((a,i)=>{gi(a)&&(o=i)});let s=o!=null?r.slice(o+1).join("."):e;return{sourceWithoutDigits:t,sourceSuffix:s}},"getSourceParts"),gi=n(e=>{for(let t=e.length-1;t>=0;t--){let r=e.charCodeAt(t);if(r<48||r>57)return!1}return!0},"onlyDigits");import{isValidElementType as Ri}from"react-is";var Pi=n((e,t,r)=>{if(e[t]&&!Ri(e[t]))return new Error(`Invalid prop '${t}' supplied to '${r}': the prop is not a valid React component`)},"default");function dn(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}n(dn,"is");var pn=n((e,t)=>{if(dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;let r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!dn(e[r[s]],t[r[s]]))return!1;return!0},"shallowEqual");var hi=n(e=>e&&Object.prototype.toString.call(e)==="[object Object]","isObject"),xi=n(e=>e instanceof Date?!1:e===""||e===null||e===void 0||pn(e,{}),"isEmpty"),mn=n(e=>Object.keys(e).reduce((t,r)=>{let o=e[r];return hi(e[r])&&(o=mn(e[r])),xi(o)?t:D(y({},t),{[r]:o})},{}),"removeEmpty"),X=mn;var fn=n((e,t)=>Object.keys(e).reduce((r,o)=>o!==t?Object.assign({},r,{[o]:e[o]}):r,{}),"removeKey"),yn=n((e,t)=>{let r=t.split(".");if(r.length===1)return fn(e,t);let o=r[0];if(e[o]===void 0)return e;let s=yn(e[o],r.slice(1).join("."));return Object.keys(s).length===0?fn(e,o):Object.assign({},e,{[o]:s})},"deepRemoveKey"),Or=yn;import*as B from"react";import{useState as Ci}from"react";var Te={root:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",fontFamily:'"Roboto", sans-serif'},main:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",flexDirection:"column",background:"linear-gradient(135deg, #00023b 0%, #00023b 50%, #313264 100%)",color:"white",fontSize:"1.5em",fontWeight:"bold"},secondary:{height:"20vh",background:"#e8e8e8",color:"black",display:"flex",alignItems:"center",justifyContent:"space-evenly"},link:{textAlign:"center",width:150,display:"block",textDecoration:"none",color:"black",opacity:.7},linkHovered:{opacity:1},image:{width:50},logo:{height:100}},Ur=n(({img:e,label:t,href:r})=>{let[o,s]=Ci(!1);return B.createElement("div",null,B.createElement("a",{href:r,style:o?y(y({},Te.link),Te.linkHovered):Te.link,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)},B.createElement("img",{src:e,alt:t,style:Te.image}),B.createElement("br",null),t))},"Button"),kr=n(()=>process.env.NODE_ENV==="production"?B.createElement("span",null):B.createElement("div",{style:Te.root},B.createElement("div",{style:Te.main},B.createElement("img",{style:Te.logo,src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhbHF1ZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTMxIDEzMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTMxIDEzMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMyMjI0NTg7fQoJLnN0MXtmaWxsOiM1MTUzN0Q7fQoJLnN0MntmaWxsOiNBM0E0Qjk7fQoJLnN0M3tmaWxsOiMwMDAyM0I7fQoJLnN0NHtmaWxsOiNGRkZGRkY7fQoJLnN0NXtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30KPC9zdHlsZT4KPHRpdGxlPkxvZ29fc29tYnJlX2FpPC90aXRsZT4KPGcgaWQ9IlJlY3RhbmdsZV81NiI+Cgk8Zz4KCQk8cmVjdCB4PSIxOS4xIiB5PSIxOSIgdHJhbnNmb3JtPSJtYXRyaXgoMC41IC0wLjg2NiAwLjg2NiAwLjUgLTIzLjkyMjYgODkuNTQ2KSIgY2xhc3M9InN0MCIgd2lkdGg9IjkyLjkiIGhlaWdodD0iOTIuOSIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04MywxMzAuM0wwLjgsODIuOUw0OC4yLDAuN2w4Mi4yLDQ3LjVMODMsMTMwLjN6IE0zLjUsODIuMWw3OC43LDQ1LjVsNDUuNS03OC43TDQ5LDMuNEwzLjUsODIuMXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjdGFuZ2xlXzU2LTIiPgoJPGc+CgkJPHJlY3QgeD0iMTkiIHk9IjE5LjEiIHRyYW5zZm9ybT0ibWF0cml4KDAuODY2IC0wLjUgMC41IDAuODY2IC0yMy45Nzc3IDQxLjUyNykiIGNsYXNzPSJzdDAiIHdpZHRoPSI5Mi45IiBoZWlnaHQ9IjkyLjkiLz4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNDcuOSwxMzFMMCw0OEw4My4xLDBsNDgsODMuMUw0Ny45LDEzMXogTTQuMSw0OS4xbDQ1LDc3LjlsNzcuOS00NUw4Miw0LjFMNC4xLDQ5LjF6Ii8+Cgk8L2c+CjwvZz4KPGcgaWQ9IlJlY3RhbmdsZV81Ni0zIj4KCTxnPgoJCTxyZWN0IHg9IjE5LjEiIHk9IjE5IiBjbGFzcz0ic3QzIiB3aWR0aD0iOTIuOSIgaGVpZ2h0PSI5Mi45Ii8+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTExNC41LDExNC41SDE2LjZWMTYuNWg5Ny45VjExNC41eiBNMjEuNiwxMDkuNWg4Ny45VjIxLjVIMjEuNlYxMDkuNXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmEiPgoJPGcgY2xhc3M9InN0NSI+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTU5LDg2LjdsLTYuNy0xOS4yaC0xLjJIMzguOXYxOS4yaC01LjZWMzguNWgxOC41YzMuNiwwLDYuMywwLjYsOC4xLDEuOGMxLjgsMS4yLDMsMi44LDMuNSw0LjgKCQkJYzAuNSwyLDAuOCw0LjYsMC44LDcuOGMwLDMuNS0wLjQsNi40LTEuMyw4LjdjLTAuOCwyLjMtMi42LDMuOS01LjMsNC44TDY1LDg2LjdINTl6IE01NS43LDYxLjZjMS4yLTAuNywyLTEuNywyLjQtMwoJCQljMC40LTEuMywwLjYtMy4yLDAuNi01LjZjMC0yLjUtMC4yLTQuMy0wLjUtNS42Yy0wLjMtMS4zLTEuMS0yLjItMi4zLTIuOWMtMS4yLTAuNy0zLTEtNS41LTFIMzguOXYxOS4xSDUwCgkJCUM1Mi41LDYyLjYsNTQuNCw2Mi4zLDU1LjcsNjEuNnoiLz4KCQk8cGF0aCBjbGFzcz0ic3Q0IiBkPSJNNzQuMyw4NWMtMS42LTEuNS0yLjUtNC4yLTIuNS04LjJjMC0yLjcsMC4zLTQuOCwwLjktNi4zYzAuNi0xLjUsMS42LTIuNiwzLTMuM2MxLjQtMC43LDMuNC0xLDYtMQoJCQljMS4zLDAsNS4xLDAuMSwxMS40LDAuM3YtMi40YzAtMi45LTAuMi01LTAuNy02LjJjLTAuNS0xLjItMS4zLTItMi42LTIuNGMtMS4yLTAuMy0zLjMtMC41LTYuMy0wLjVjLTEuMywwLTMsMC4xLTQuOSwwLjIKCQkJYy0yLDAuMS0zLjYsMC4zLTQuOCwwLjV2LTQuM2MzLjMtMC43LDcuMS0xLDExLjQtMWMzLjcsMCw2LjUsMC40LDguNCwxLjJjMS44LDAuOCwzLjEsMi4yLDMuOCw0LjFjMC43LDEuOSwxLDQuNywxLDguNHYyMi41aC00LjgKCQkJbC0wLjMtNWgtMC4zYy0wLjgsMi4yLTIuMiwzLjctNC4xLDQuNGMtMS45LDAuNy00LjEsMS4xLTYuNiwxLjFDNzguNiw4Ny4yLDc2LDg2LjUsNzQuMyw4NXogTTg5LjEsODJjMS4yLTAuNCwyLjItMS4yLDIuOC0yLjQKCQkJYzAuOS0xLjgsMS4zLTQuMywxLjMtNy4zdi0yaC0xMGMtMS43LDAtMywwLjItMy44LDAuNWMtMC44LDAuMy0xLjQsMC45LTEuNywxLjhjLTAuMywwLjktMC41LDIuMi0wLjUsNGMwLDEuOCwwLjIsMy4xLDAuNiwzLjkKCQkJYzAuNCwwLjgsMS4xLDEuNCwyLDEuOGMxLDAuMywyLjUsMC41LDQuNSwwLjVDODYuMiw4Mi42LDg3LjgsODIuNCw4OS4xLDgyeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=",alt:"react-admin logo"}),B.createElement("h1",null,"Welcome to React-admin"),B.createElement("div",null,"Your application is properly configured.",B.createElement("br",null),"Now you can add a <Resource> as child of <Admin>.")),B.createElement("div",{style:Te.secondary},B.createElement(Ur,{href:"https://marmelab.com/react-admin/Readme.html",img:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0yMSw1Yy0xLjExLTAuMzUtMi4zMy0wLjUtMy41LTAuNWMtMS45NSwwLTQuMDUsMC40LTUuNSwxLjVjLTEuNDUtMS4xLTMuNTUtMS41LTUuNS0xLjVTMi40NSw0LjksMSw2djE0LjY1CgkJCWMwLDAuMjUsMC4yNSwwLjUsMC41LDAuNWMwLjEsMCwwLjE1LTAuMDUsMC4yNS0wLjA1QzMuMSwyMC40NSw1LjA1LDIwLDYuNSwyMGMxLjk1LDAsNC4wNSwwLjQsNS41LDEuNWMxLjM1LTAuODUsMy44LTEuNSw1LjUtMS41CgkJCWMxLjY1LDAsMy4zNSwwLjMsNC43NSwxLjA1YzAuMSwwLjA1LDAuMTUsMC4wNSwwLjI1LDAuMDVjMC4yNSwwLDAuNS0wLjI1LDAuNS0wLjVWNkMyMi40LDUuNTUsMjEuNzUsNS4yNSwyMSw1eiBNMywxOC41VjcKCQkJYzEuMS0wLjM1LDIuMy0wLjUsMy41LTAuNWMxLjM0LDAsMy4xMywwLjQxLDQuNSwwLjk5djExLjVDOS42MywxOC40MSw3Ljg0LDE4LDYuNSwxOEM1LjMsMTgsNC4xLDE4LjE1LDMsMTguNXogTTIxLDE4LjUKCQkJYy0xLjEtMC4zNS0yLjMtMC41LTMuNS0wLjVjLTEuMzQsMC0zLjEzLDAuNDEtNC41LDAuOTlWNy40OWMxLjM3LTAuNTksMy4xNi0wLjk5LDQuNS0wLjk5YzEuMiwwLDIuNCwwLjE1LDMuNSwwLjVWMTguNXoiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik0xMSw3LjQ5QzkuNjMsNi45MSw3Ljg0LDYuNSw2LjUsNi41QzUuMyw2LjUsNC4xLDYuNjUsMyw3djExLjVDNC4xLDE4LjE1LDUuMywxOCw2LjUsMTgKCQkJYzEuMzQsMCwzLjEzLDAuNDEsNC41LDAuOTlWNy40OXoiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0xNy41LDEwLjVjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlY5LjI0QzE5LjIxLDkuMDksMTguMzYsOSwxNy41LDljLTEuMjgsMC0yLjQ2LDAuMTYtMy41LDAuNDd2MS41NwoJCQlDMTQuOTksMTAuNjksMTYuMTgsMTAuNSwxNy41LDEwLjV6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTMuMTZjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlYxMS45Yy0wLjc5LTAuMTUtMS42NC0wLjI0LTIuNS0wLjI0Yy0xLjI4LDAtMi40NiwwLjE2LTMuNSwwLjQ3djEuNTcKCQkJQzE0Ljk5LDEzLjM2LDE2LjE4LDEzLjE2LDE3LjUsMTMuMTZ6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTUuODNjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNnYtMS41MmMtMC43OS0wLjE1LTEuNjQtMC4yNC0yLjUtMC4yNGMtMS4yOCwwLTIuNDYsMC4xNi0zLjUsMC40N3YxLjU3CgkJCUMxNC45OSwxNi4wMiwxNi4xOCwxNS44MywxNy41LDE1LjgzeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=",label:"Documentation"}),B.createElement(Ur,{href:"https://github.com/marmelab/react-admin/tree/master/examples",img:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDBWMHoiLz48cGF0aCBkPSJNOS40IDE2LjZMNC44IDEybDQuNi00LjZMOCA2bC02IDYgNiA2IDEuNC0xLjR6bTUuMiAwbDQuNi00LjYtNC42LTQuNkwxNiA2bDYgNi02IDYtMS40LTEuNHoiLz48L3N2Zz4=",label:"Examples"}),B.createElement(Ur,{href:"https://stackoverflow.com/questions/tagged/react-admin",img:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxjaXJjbGUgb3BhY2l0eT0iMC4zIiBjeD0iOSIgY3k9IjgiIHI9IjIiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik05LDE1Yy0yLjcsMC01LjgsMS4yOS02LDIuMDFMMywxOGgxMnYtMUMxNC44LDE2LjI5LDExLjcsMTUsOSwxNXoiLz4KCQk8cGF0aCBkPSJNMTYuNjcsMTMuMTNDMTguMDQsMTQuMDYsMTksMTUuMzIsMTksMTd2M2g0di0zQzIzLDE0LjgyLDE5LjQzLDEzLjUzLDE2LjY3LDEzLjEzeiIvPgoJCTxwYXRoIGQ9Ik0xNSwxMmMyLjIxLDAsNC0xLjc5LDQtNGMwLTIuMjEtMS43OS00LTQtNGMtMC40NywwLTAuOTEsMC4xLTEuMzMsMC4yNEMxNC41LDUuMjcsMTUsNi41OCwxNSw4cy0wLjUsMi43My0xLjMzLDMuNzYKCQkJQzE0LjA5LDExLjksMTQuNTMsMTIsMTUsMTJ6Ii8+CgkJPHBhdGggZD0iTTksMTJjMi4yMSwwLDQtMS43OSw0LTRjMC0yLjIxLTEuNzktNC00LTRTNSw1Ljc5LDUsOEM1LDEwLjIxLDYuNzksMTIsOSwxMnogTTksNmMxLjEsMCwyLDAuOSwyLDJjMCwxLjEtMC45LDItMiwyCgkJCVM3LDkuMSw3LDhDNyw2LjksNy45LDYsOSw2eiIvPgoJCTxwYXRoIGQ9Ik05LDEzYy0yLjY3LDAtOCwxLjM0LTgsNHYzaDE2di0zQzE3LDE0LjM0LDExLjY3LDEzLDksMTN6IE0xNSwxOEgzbDAtMC45OUMzLjIsMTYuMjksNi4zLDE1LDksMTVzNS44LDEuMjksNiwyVjE4eiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=",label:"Community"}))),"default");var Ke=n((e,t)=>{e&&process.env.NODE_ENV!=="production"&&console.warn(t)},"default");import{useRef as Ti,useEffect as Mi}from"react";function gn(e,t){let r=Ti();Mi(()=>{if(r.current){let o=Object.keys(y(y({},r.current),t)),s={};o.forEach(a=>{r.current[a]!==t[a]&&(s[a]={from:r.current[a],to:t[a]})}),Object.keys(s).length&&console.log("[why-did-you-update]",e,s)}r.current=t})}n(gn,"useWhyDidYouUpdate");var Si=n((e,t)=>{if(e)return e;switch(t){case!0:return"undoable";case!1:return"pessimistic";default:return"undoable"}},"getMutationMode");function Yg(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}n(Yg,"mergeRefs");import*as je from"react";import{useCallback as Li}from"react";var bi=typeof window!="undefined"?je.useLayoutEffect:je.useEffect,Rn=n((e,t)=>{let r=je.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return bi(()=>{r.current=e},[e,...t]),Li((...o)=>r.current(...o),[])},"useEventCallback");import{useState as vi,useRef as Vt,useEffect as Xe,useCallback as Ei}from"react";import wi from"lodash/isEqual";function W(e){let[t,r]=vi(e),o=Vt(!1);Xe(()=>(o.current=!0,()=>{o.current=!1}),[]);let s=Ei(a=>{if(o.current)return r(a)},[o,r]);return[t,s]}n(W,"useSafeSetState");function Di(e){let t=Vt();return Xe(()=>{t.current=e}),t.current}n(Di,"usePrevious");function Kg(e,t){let r=Vt();Xe(()=>(wi(o,t)||(r.current=e()),r.current));let o=Di(t)}n(Kg,"useDeepCompareEffect");function Pn(e=0,t=""){let[r,o]=W(!1);return Xe(()=>{o(!1);let s=setTimeout(()=>{o(!0)},e);return()=>{clearTimeout(s)}},[t,e,o]),r}n(Pn,"useTimeout");function hn(){let e=Vt(!0);return Xe(()=>(e.current=!0,()=>{e.current=!1}),[]),e}n(hn,"useIsMounted");import{createContext as Ii}from"react";var Gt=Ii("");import*as xn from"react";import{useContext as Ai}from"react";var jt=n(()=>Ai(Gt),"useLabelPrefix");var Cn=n(({prefix:e,concatenate:t=!0,children:r})=>{let o=jt(),s=o&&t?`${o}.${e}`:e;return xn.createElement(Gt.Provider,{value:s},r)},"LabelPrefixContextProvider");var le=n((e,t)=>{let{getItem:r,setItem:o,subscribe:s}=Ce(),[a,i]=Fi(()=>r(e,t));Ni(()=>{let l=s(e,c=>{i(typeof c=="undefined"?t:c)});return()=>l()},[e,s,t]);let u=Rn((l,c)=>{let m=typeof l=="function"?l(a):l;o(e,typeof m=="undefined"?typeof c=="undefined"?t:c:m)},[e,o,t,a]);return[a,u]},"useStore");import{useCallback as Oi}from"react";var Tn=n(e=>{let{removeItem:t}=Ce();return Oi(r=>t(typeof r=="undefined"?e:r),[t,e])},"useRemoveFromStore");var Mn=n(()=>{let{reset:e}=Ce();return e},"useResetStore");var Vi=n(()=>{let e=te(),t=Mn(),r=ji(),o=Ln(r),s=ki(),a=Ln(s),i=ie(),u=ue(`${i}/${Ue.loginUrl}`);Ui(()=>{a.current=s,o.current=r},[s,r]);let l=Sn((m={},f=u,x=!0)=>e.logout(m).then(C=>{if(C===!1){t();return}let L=(C||f).split("?"),T={pathname:L[0]},P={};return x&&a.current&&a.current.pathname&&(P={state:{nextPathname:a.current.pathname,nextSearch:a.current.search}}),L[1]&&(T.search=L[1]),o.current(T,P),t(),C}),[e,t,u]),c=Sn(m=>(r({pathname:u},{state:{nextPathname:s&&s.pathname}}),t(),Promise.resolve()),[t,s,r,u]);return e?l:c},"useLogout"),De=Vi;var Ve=n(()=>{let e=te(),t=G(),r=De(),o=ie(),s=ue(`${o}/${Ue.loginUrl}`),a=Gi((i={},u=!0,l=s,c=!1)=>e.checkAuth(i).catch(m=>{throw u&&(r({},m&&m.redirectTo?m.redirectTo:l),!(c||m&&m.message===!1)&&t(_i(m,"ra.auth.auth_check_error"),{type:"warning"})),m}),[e,r,t,s]);return e?a:Qi},"useCheckAuth"),Qi=n(()=>Promise.resolve(),"checkAuthWithoutAuthProvider"),_i=n((e,t)=>typeof e=="string"?e:typeof e=="undefined"||!e.message?t:e.message,"getErrorMessage");var Wi={},Hi=n((e=Wi)=>{let[t,r]=W({isLoading:!0,authenticated:!0}),o=Ve();return zi(()=>{o(e,!1).then(()=>r({isLoading:!1,authenticated:!0})).catch(()=>r({isLoading:!1,authenticated:!1}))},[o,e,r]),t},"useAuthState"),jr=Hi;import{useEffect as Zi}from"react";import{useCallback as Yi}from"react";var Ji=n(()=>Promise.resolve([]),"getPermissionsWithoutProvider"),$i=n(()=>{let e=te(),t=Yi((r={})=>e.getPermissions(r),[e]);return e?t:Ji},"useGetPermissions"),et=$i;var Bi={},qi=n((e=Bi)=>{let[t,r]=W({isLoading:!0}),o=et();return Zi(()=>{o(e).then(s=>{r({isLoading:!1,permissions:s})}).catch(s=>{r({isLoading:!1,error:s})})},[o,e,r]),t},"usePermissions"),Vr=qi;import{useEffect as Ki}from"react";import Xi from"lodash/isEqual";var eu={},bn={"{}":void 0},tu=n((e=eu)=>{let t=JSON.stringify(e),[r,o]=W({permissions:bn[t]}),s=et();return Ki(()=>{s(e).then(a=>{Xi(a,r.permissions)||(bn[t]=a,o({permissions:a}))}).catch(a=>{o({error:a})})},[s,t]),r},"usePermissionsOptimized"),Gr=tu;import{Children as nu,createElement as su}from"react";import{useEffect as ru}from"react";var oe=n((e={})=>{let{enabled:t=!0,params:r=ou}=e,o=Ve();ru(()=>{t&&o(r).catch(()=>{})},[o,t,r])},"useAuthenticated"),ou={};var vn=n(e=>nu.count(e)===0,"isEmptyChildren"),au=n(e=>{let l=e,{authParams:t,children:r,render:o,component:s,staticContext:a}=l,i=F(l,["authParams","children","render","component","staticContext"]);Ke(o&&r&&!vn(r)||o&&s||s&&r&&!vn(r),"You should only use one of the `component`, `render` and `children` props in <WithPermissions>"),oe(t);let{permissions:u}=Gr(t);if(s)return su(s,y({permissions:u},i));if(o)return o(y({permissions:u},i));if(r)return r(y({permissions:u},i))},"WithPermissions"),Qr=au;import{useCallback as En}from"react";import{useLocation as iu,useNavigate as uu}from"react-router-dom";var cu=n(()=>{let e=te(),r=iu().state,o=uu(),s=ie(),{resetNotifications:a}=Ft(),i=r&&r.nextPathname,u=r&&r.nextSearch,l=ue(`${s}/${Ue.afterLoginUrl}`),c=En((f={},x)=>e.login(f).then(C=>{a();let L=x||i+u||l;return o(L),C}),[e,o,i,u,a,l]),m=En((f,x)=>(a(),o(l),Promise.resolve()),[o,a,l]);return e?c:m},"useLogin"),lu=cu;import{useEffect as du}from"react";var wn={id:"",fullName:null},pu=n(()=>{let[e,t]=W({isLoading:!0}),r=te();return du(()=>{r&&typeof r.getIdentity=="function"?n(async()=>{try{let s=await r.getIdentity();t({isLoading:!1,identity:s||wn})}catch(s){t({isLoading:!1,error:s})}},"callAuthProvider")():t({isLoading:!1,identity:wn})},[r,t]),e},"useGetIdentity"),mu=pu;import{useCallback as fu}from"react";import{useNavigate as yu}from"react-router";var _r,gu=n(()=>{let e=te(),t=De(),r=G(),o=yu(),s=fu((a,i)=>e.checkError(a).then(()=>!1).catch(async u=>{var f;let l=(f=u==null?void 0:u.logoutUser)!=null?f:!0;if(_r)return!0;_r=setTimeout(()=>{_r=void 0},0),!(i||u&&u.message===!1||a&&a.message===!1)&&e.checkAuth({}).then(()=>{l?r(Dn(u,"ra.notification.logged_out"),{type:"warning"}):r(Dn(u,"ra.notification.not_authorized"),{type:"warning"})}).catch(()=>{});let m=u&&u.redirectTo?u.redirectTo:a&&a.redirectTo?a.redirectTo:void 0;return l?t({},m):o(m),!0}),[e,t,r,o]);return e?s:Ru},"useLogoutIfAccessDenied"),Ru=n(()=>Promise.resolve(!1),"logoutIfAccessDeniedWithoutProvider"),Dn=n((e,t)=>typeof e=="string"?e:typeof e=="undefined"||!e.message?t:e.message,"getErrorMessage"),zr=gu;var In="AUTH_LOGIN",An="AUTH_CHECK",Fn="AUTH_ERROR",Nn="AUTH_LOGOUT",On="AUTH_GET_PERMISSIONS";var Wr=n(e=>{let t=n((...r)=>e.apply(null,r),"authProvider");return t.login=r=>e(In,r),t.logout=r=>e(Nn,r),t.checkAuth=r=>e(An,r),t.checkError=r=>e(Fn,r),t.getPermissions=r=>e(On,r),t},"default");import*as Qt from"react";var WP=n(e=>{let{authParams:t,children:r}=e;return oe({params:t}),Qt.createElement(Qt.Fragment,null,r)},"Authenticated");var Hr="GET_LIST",Yr="GET_ONE",Jr="GET_MANY",$r="GET_MANY_REFERENCE",Zr="CREATE",Br="UPDATE",qr="UPDATE_MANY",Kr="DELETE",Xr="DELETE_MANY",Un=["getOne","create","update"],eo=["getList","getMany","getManyReference"],kn=[...eo,"updateMany","deleteMany"],jn=["getList","getManyReference"],lh=n(e=>{switch(e){case Hr:return"getList";case Yr:return"getOne";case Jr:return"getMany";case $r:return"getManyReference";case Zr:return"create";case Br:return"update";case qr:return"updateMany";case Kr:return"delete";case Xr:return"deleteMany";default:return e}},"sanitizeFetchType");var de=n(()=>Promise.resolve(),"defaultDataProvider");de.create=()=>Promise.resolve(null);de.delete=()=>Promise.resolve(null);de.deleteMany=()=>Promise.resolve(null);de.getList=()=>Promise.resolve(null);de.getMany=()=>Promise.resolve(null);de.getManyReference=()=>Promise.resolve(null);de.getOne=()=>Promise.resolve(null);de.update=()=>Promise.resolve(null);de.updateMany=()=>Promise.resolve(null);var Vn={create:Zr,delete:Kr,deleteMany:Xr,getList:Hr,getMany:Jr,getManyReference:$r,getOne:Yr,update:Br,updateMany:qr},Pu=n(e=>new Proxy(de,{get(r,o){return(s,a)=>{if(Object.keys(Vn).includes(o.toString())){let i=Vn[o.toString()];return e(i,s,a)}return e(o.toString(),s,a)}},apply(r,o,s){return e.apply(e,s)}}),"convertLegacyDataProvider"),to=Pu;import{createContext as hu}from"react";var Gn=hu(null);Gn.displayName="DataProviderContext";var tt=Gn;var rt=class extends Error{constructor(t,r,o=null){super(t);this.message=t;this.status=r;this.body=o;Object.setPrototypeOf(this,rt.prototype),this.name=this.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(t).stack,this.stack=new Error().stack}};n(rt,"HttpError");var ro=rt;var zn={};ya(zn,{createHeadersFromOptions:()=>Qn,fetchJson:()=>Cu,flattenObject:()=>_n,queryParameters:()=>Tu});import{stringify as xu}from"query-string";var Qn=n(e=>{let t=e.headers||new Headers({Accept:"application/json"});return!t.has("Content-Type")&&!(e&&(!e.method||e.method==="GET"))&&!(e&&e.body&&e.body instanceof FormData)&&t.set("Content-Type","application/json"),e.user&&e.user.authenticated&&e.user.token&&t.set("Authorization",e.user.token),t},"createHeadersFromOptions"),Cu=n((e,t={})=>{let r=Qn(t);return fetch(e,D(y({},t),{headers:r})).then(o=>o.text().then(s=>({status:o.status,statusText:o.statusText,headers:o.headers,body:s}))).then(({status:o,statusText:s,headers:a,body:i})=>{let u;try{u=JSON.parse(i)}catch{}return o<200||o>=300?Promise.reject(new ro(u&&u.message||s,o,u)):Promise.resolve({status:o,headers:a,body:i,json:u})})},"fetchJson"),Tu=xu,Mu=n(e=>{if(!e)return!1;let t=Array.isArray(e),r=typeof Buffer!="undefined"&&Buffer.isBuffer(e),o=Object.prototype.toString.call(e)==="[object Object]",s=!!Object.keys(e).length;return!t&&!r&&o&&s},"isValidObject"),_n=n((e,t=[])=>Mu(e)?Object.assign({},...Object.keys(e).map(r=>_n(e[r],t.concat([r])))):t.length?{[t.join(".")]:e}:e,"flattenObject");import Su from"eventemitter3";var Re=new Su;var Ge={create:()=>Promise.resolve({data:null}),delete:()=>Promise.resolve({data:null}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getManyReference:()=>Promise.resolve({data:[],total:0}),getOne:()=>Promise.resolve({data:null}),update:()=>Promise.resolve({data:null}),updateMany:()=>Promise.resolve({data:[]})};var Mh=n(e=>new Proxy(Ge,{get:(t,r)=>(o,s)=>{if(!(typeof r=="symbol"||r==="then"))return e(o)[r](o,s)}}),"combineDataProviders");var Lh=n(e=>y({getList:()=>Promise.resolve({data:[],total:0}),getOne:()=>Promise.resolve({data:void 0}),getMany:()=>Promise.resolve({data:[]}),getManyReference:()=>Promise.resolve({data:[],total:0}),create:()=>Promise.resolve({data:void 0}),update:()=>Promise.resolve({data:void 0}),updateMany:()=>Promise.resolve({data:[]}),delete:()=>Promise.resolve({data:void 0}),deleteMany:()=>Promise.resolve({data:[]})},e),"testDataProvider");import{useContext as bu,useMemo as vu}from"react";function Lu(e,t,r=console.error){if(!e)throw r(`The dataProvider returned an empty response for '${t}'.`),new Error("ra.notification.data_provider_error");if(!e.hasOwnProperty("data"))throw r(`The response to '${t}' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '${t}'.`),new Error("ra.notification.data_provider_error");if(kn.includes(t)&&!Array.isArray(e.data))throw r(`The response to '${t}' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '${t}'`),new Error("ra.notification.data_provider_error");if(eo.includes(t)&&Array.isArray(e.data)&&e.data.length>0&&!e.data[0].hasOwnProperty("id"))throw r(`The response to '${t}' must be like { data : [{ id: 123, ...}, ...] }, but the received data items do not have an 'id' key. The dataProvider is probably wrong for '${t}'`),new Error("ra.notification.data_provider_error");if(Un.includes(t)&&!e.data.hasOwnProperty("id"))throw r(`The response to '${t}' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '${t}'`),new Error("ra.notification.data_provider_error");if(jn.includes(t)&&!e.hasOwnProperty("total")&&!e.hasOwnProperty("pageInfo"))throw r(`The response to '${t}' must be like  { data: [...], total: 123 }, but the received response does not have a 'total' key. The dataProvider is probably wrong for '${t}'`),new Error("ra.notification.data_provider_error")}n(Lu,"validateResponseFormat");var Wn=Lu;var Y=n(()=>{let e=bu(tt)||Ge,t=zr();return vu(()=>new Proxy(e,{get:(o,s)=>{if(!(typeof s=="symbol"||s==="then"))return(...a)=>{let i=s.toString();if(typeof e[i]!="function")throw new Error(`Unknown dataProvider function: ${i}`);try{return e[i].apply(e,a).then(u=>(process.env.NODE_ENV!=="production"&&Wn(u,i),u)).catch(u=>(process.env.NODE_ENV!=="production"&&console.error(u),t(u).then(l=>{if(!l)throw u})))}catch(u){throw process.env.NODE_ENV!=="production"&&console.error(u),new Error("The dataProvider threw an error. It should return a rejected Promise instead.")}}}}),[e,t])},"useDataProvider");import{useEffect as Eu,useState as wu}from"react";import{useQueryClient as Du,QueryObserver as Iu}from"react-query";var kh=n((e,t={})=>{let{enabled:r=!0}=t,o=Du(),[s,a]=wu(()=>r?o.getQueryData(e)!==void 0:!1);return Eu(()=>{if(!!r&&o.getQueryData(e)===void 0){let u=new Iu(o,{queryKey:e}).subscribe(l=>{a(!l.isLoading),u()});return u}},[r,e,o]),s},"useIsDataLoaded");import ot from"react";import{notifyManager as Hn,useQueryClient as Au}from"react-query";var Qh=n(()=>{let e=Au(),t=ot.useRef(!1),r=ot.useRef(e.isFetching()>0),o=ot.useRef(e.isMutating()>0),[s,a]=ot.useState(r.current||o.current);return ot.useEffect(()=>{t.current=!0;let i=e.getQueryCache().subscribe(Hn.batchCalls(()=>{t.current&&(r.current=e.isFetching()>0,a(r.current||o.current))})),u=e.getMutationCache().subscribe(Hn.batchCalls(()=>{t.current&&(o.current=e.isMutating()>0,a(r.current||o.current))}));return()=>{t.current=!1,i(),u()}},[e]),s},"useLoading");import{useCallback as Fu}from"react";import{useQueryClient as Nu}from"react-query";var _t=n(()=>{let e=Nu();return Fu(()=>{e.invalidateQueries()},[e])},"useRefresh");import{useQuery as Ou}from"react-query";var zt=n((e,{id:t,meta:r},o)=>{let s=Y();return Ou([e,"getOne",{id:String(t),meta:r}],()=>s.getOne(e,{id:t,meta:r}).then(({data:a})=>a),o)},"useGetOne");import{useQuery as Uu,useQueryClient as ku}from"react-query";var Qe=n((e,t={},r)=>{var m,f,x;let{pagination:o={page:1,perPage:25},sort:s={field:"id",order:"DESC"},filter:a={},meta:i}=t,u=Y(),l=ku(),c=Uu([e,"getList",{pagination:o,sort:s,filter:a,meta:i}],()=>u.getList(e,{pagination:o,sort:s,filter:a,meta:i}).then(({data:C,total:L,pageInfo:T})=>({data:C,total:L,pageInfo:T})),y({onSuccess:({data:C})=>{C.forEach(L=>{l.setQueryData([e,"getOne",{id:String(L.id),meta:i}],T=>T!=null?T:L)})}},r));return c.data?D(y({},c),{data:(m=c.data)==null?void 0:m.data,total:(f=c.data)==null?void 0:f.total,pageInfo:(x=c.data)==null?void 0:x.pageInfo}):c},"useGetList");import{useQuery as ju,useQueryClient as Vu,hashQueryKey as Gu}from"react-query";var ax=n((e,t={},r)=>{let{ids:o,meta:s}=t,a=Y(),i=Vu(),u=i.getQueryCache();return ju([e,"getMany",{ids:o.map(l=>String(l)),meta:s}],()=>!o||o.length===0?Promise.resolve([]):a.getMany(e,{ids:o,meta:s}).then(({data:l})=>l),y({placeholderData:()=>{let l=o.map(c=>{var f,x;let m=Gu([e,"getOne",{id:String(c),meta:s}]);return(x=(f=u.get(m))==null?void 0:f.state)==null?void 0:x.data});if(!l.some(c=>c===void 0))return l},onSuccess:l=>{l.forEach(c=>{i.setQueryData([e,"getOne",{id:String(c.id),meta:s}],m=>m!=null?m:c)})},retry:!1},r))},"useGetMany");import{useMemo as Qu}from"react";import{useQueryClient as _u,useQuery as zu,hashQueryKey as Wu}from"react-query";import Hu from"lodash/union";var _e=n((e,t,r={})=>{let o=Y(),s=_u(),a=s.getQueryCache(),{ids:i,meta:u}=t,l=Qu(()=>{let c=i.map(m=>{var x,C;let f=Wu([e,"getOne",{id:String(m),meta:u}]);return(C=(x=a.get(f))==null?void 0:x.state)==null?void 0:C.data});if(!c.some(m=>m===void 0))return c},[i,a,e,u]);return zu([e,"getMany",{ids:i.map(c=>String(c)),meta:u}],()=>new Promise((c,m)=>!i||i.length===0?c([]):Ju({resource:e,ids:i,meta:u,resolve:c,reject:m,dataProvider:o,queryClient:s})),y({placeholderData:l,onSuccess:c=>{c.forEach(m=>{s.setQueryData([e,"getOne",{id:String(m.id),meta:u}],f=>f!=null?f:m)})},retry:!1},r))},"useGetManyAggregate"),Yu=n(e=>{let t=[],r=null;return o=>{t.push(o),r&&clearTimeout(r),r=setTimeout(()=>{r=null,e([...t]),t=[]},0)}},"batch"),Ju=Yu(e=>{let t=e[0].dataProvider,r=e[0].queryClient,o=e.reduce((s,a)=>(s[a.resource]||(s[a.resource]=[]),s[a.resource].push(a),s),{});Object.keys(o).forEach(s=>{let a=o[s],i=a.reduce((c,{ids:m})=>Hu(c,m),[]).filter(c=>c!=null&&c!==""),u=a.reduce((c,{meta:m})=>m||c,void 0);if(i.length===0){a.forEach(({resolve:c})=>{c([])});return}let l=a.find(({ids:c})=>JSON.stringify(c)===JSON.stringify(i));if(l){let{dataProvider:c,resource:m,ids:f,meta:x}=l;c.getMany(m,{ids:f,meta:x}).then(({data:C})=>C).then(C=>{a.forEach(({ids:L,resolve:T})=>{T(C.filter(P=>L.map(g=>String(g)).includes(String(P.id))))})},C=>{a.forEach(({reject:L})=>{L(C)})});return}r.fetchQuery([s,"getMany",{ids:i.map(c=>String(c)),meta:u}],()=>t.getMany(s,{ids:i,meta:u}).then(({data:c})=>c)).then(c=>{a.forEach(({ids:m,resolve:f})=>{f(c.filter(x=>m.map(C=>String(C)).includes(String(x.id))))})}).catch(c=>a.forEach(({reject:m})=>m(c)))})});import{useQuery as $u,useQueryClient as Zu}from"react-query";var Wt=n((e,t={},r)=>{var x,C,L;let{target:o,id:s,pagination:a={page:1,perPage:25},sort:i={field:"id",order:"DESC"},filter:u={},meta:l}=t,c=Y(),m=Zu(),f=$u([e,"getManyReference",{target:o,id:s,pagination:a,sort:i,filter:u,meta:l}],()=>c.getManyReference(e,{target:o,id:s,pagination:a,sort:i,filter:u,meta:l}).then(({data:T,total:P,pageInfo:g})=>({data:T,total:P,pageInfo:g})),y({onSuccess:({data:T})=>{T.forEach(P=>{m.setQueryData([e,"getOne",{id:String(P.id),meta:l}],g=>g!=null?g:P)})}},r));return f.data?D(y({},f),{data:(x=f.data)==null?void 0:x.data,total:(C=f.data)==null?void 0:C.total,pageInfo:(L=f.data)==null?void 0:L.pageInfo}):f},"useGetManyReference");import{useRef as Bu}from"react";import{useMutation as qu,useQueryClient as Ku}from"react-query";var Yn=n((e,t={},r={})=>{let o=Y(),s=Ku(),a=Bu(t),i=qu(({resource:l=e,data:c=a.current.data,meta:m=a.current.meta}={})=>o.create(l,{data:c,meta:m}).then(({data:f})=>f),D(y({},r),{onSuccess:(l,c={},m)=>{let{resource:f=e}=c;s.setQueryData([f,"getOne",{id:String(l.id)}],l),r.onSuccess&&r.onSuccess(l,c,m)}}));return[n((l=e,c={},m={})=>{let C=m,{returnPromise:f}=C,x=F(C,["returnPromise"]);if(f)return i.mutateAsync(y({resource:l},c),m);i.mutate(y({resource:l},c),x)},"create"),i]},"useCreate");import{useRef as oo}from"react";import{useMutation as Xu,useQueryClient as ec}from"react-query";var Jn=n((e,t={},r={})=>{let o=Y(),s=ec(),{id:a,data:i,meta:u}=t,P=r,{mutationMode:l="pessimistic"}=P,c=F(P,["mutationMode"]),m=oo(l),f=oo(t),x=oo([]),C=n(({resource:g,id:R,data:S})=>{let M=Date.now(),h=m.current==="undoable"?M+5*1e3:M,v=n(b=>{if(!b)return;let E=b.findIndex(N=>N.id==R);return E===-1?b:[...b.slice(0,E),y(y({},b[E]),S),...b.slice(E+1)]},"updateColl");s.setQueryData([g,"getOne",{id:String(R),meta:u}],b=>y(y({},b),S),{updatedAt:h}),s.setQueriesData([g,"getList"],b=>b&&b.data?{data:v(b.data),total:b.total}:b,{updatedAt:h}),s.setQueriesData([g,"getMany"],b=>b&&b.length>0?v(b):b,{updatedAt:h}),s.setQueriesData([g,"getManyReference"],b=>b&&b.data?{data:v(b.data),total:b.total}:b,{updatedAt:h})},"updateCache"),L=Xu(({resource:g=e,id:R=f.current.id,data:S=f.current.data,meta:M=f.current.meta,previousData:h=f.current.previousData}={})=>o.update(g,{id:R,data:S,previousData:h,meta:M}).then(({data:v})=>v),D(y({},c),{onMutate:async g=>{if(c.onMutate){let R=await c.onMutate(g)||{};return y({snapshot:x.current},R)}else return{snapshot:x.current}},onError:(g,R={},S)=>{if((m.current==="optimistic"||m.current==="undoable")&&S.snapshot.forEach(([M,h])=>{s.setQueryData(M,h)}),c.onError)return c.onError(g,R,S)},onSuccess:(g,R={},S)=>{if(m.current==="pessimistic"){let{resource:M=e,id:h=a}=R;C({resource:M,id:h,data:g}),c.onSuccess&&c.onSuccess(g,R,S)}},onSettled:(g,R,S={},M)=>{if((m.current==="optimistic"||m.current==="undoable")&&M.snapshot.forEach(([h])=>{s.invalidateQueries(h)}),c.onSettled)return c.onSettled(g,R,S,M)}}));return[n(async(g=e,R={},S={})=>{let{mutationMode:M,returnPromise:h,onSuccess:v,onSettled:b,onError:E}=S;if(f.current=t,M&&(m.current=M),h&&m.current!=="pessimistic"&&console.warn("The returnPromise parameter can only be used if the mutationMode is set to pessimistic"),m.current==="pessimistic")return h?L.mutateAsync(y({resource:g},R),{onSuccess:v,onSettled:b,onError:E}):L.mutate(y({resource:g},R),{onSuccess:v,onSettled:b,onError:E});let{id:N=a,data:O=i,meta:A=u}=R,w=s.getQueryData([g,"getOne",{id:String(N),meta:A}]),U=[[g,"getOne",{id:String(N),meta:A}],[g,"getList"],[g,"getMany"],[g,"getManyReference"]];if(x.current=U.reduce((V,q)=>V.concat(s.getQueriesData(q)),[]),await Promise.all(x.current.map(([V])=>s.cancelQueries(V))),C({resource:g,id:N,data:O}),v&&setTimeout(()=>v(w,y({resource:g},R),{snapshot:x.current}),0),c.onSuccess&&setTimeout(()=>c.onSuccess(w,y({resource:g},R),{snapshot:x.current}),0),m.current==="optimistic")return L.mutate(y({resource:g},R),{onSettled:b,onError:E});Re.once("end",({isUndo:V})=>{V?x.current.forEach(([q,ee])=>{s.setQueryData(q,ee)}):L.mutate(y({resource:g},R),{onSettled:b,onError:E})})},"update"),L]},"useUpdate");import{useRef as no}from"react";import{useMutation as tc,useQueryClient as rc}from"react-query";var Wx=n((e,t={},r={})=>{let o=Y(),s=rc(),{ids:a,data:i,meta:u}=t,P=r,{mutationMode:l="pessimistic"}=P,c=F(P,["mutationMode"]),m=no(l),f=no(t),x=no([]),C=n(async({resource:g,ids:R,data:S,meta:M})=>{let h=m.current==="undoable"?Date.now()+1e3*5:Date.now(),v=n(b=>{if(!b)return;let E=[...b];return R.forEach(N=>{let O=b.findIndex(A=>A.id==N);O!==-1&&(E=[...E.slice(0,O),y(y({},E[O]),S),...E.slice(O+1)])}),E},"updateColl");R.forEach(b=>s.setQueryData([g,"getOne",{id:String(b),meta:M}],E=>y(y({},E),S),{updatedAt:h})),s.setQueriesData([g,"getList"],b=>b&&b.data?{data:v(b.data),total:b.total}:b,{updatedAt:h}),s.setQueriesData([g,"getMany"],b=>b&&b.length>0?v(b):b,{updatedAt:h}),s.setQueriesData([g,"getManyReference"],b=>b&&b.data?{data:v(b.data),total:b.total}:b,{updatedAt:h})},"updateCache"),L=tc(({resource:g=e,ids:R=f.current.ids,data:S=f.current.data,meta:M=f.current.meta}={})=>o.updateMany(g,{ids:R,data:S,meta:M}).then(({data:h})=>h),D(y({},c),{onMutate:async g=>{if(c.onMutate){let R=await c.onMutate(g)||{};return y({snapshot:x.current},R)}else return{snapshot:x.current}},onError:(g,R={},S)=>{if((m.current==="optimistic"||m.current==="undoable")&&S.snapshot.forEach(([M,h])=>{s.setQueryData(M,h)}),c.onError)return c.onError(g,R,S)},onSuccess:(g,R={},S)=>{if(m.current==="pessimistic"){let{resource:M=e,ids:h=a,meta:v=u}=R;C({resource:M,ids:h,data:g,meta:v}),c.onSuccess&&c.onSuccess(g,R,S)}},onSettled:(g,R,S={},M)=>{if((m.current==="optimistic"||m.current==="undoable")&&M.snapshot.forEach(([h])=>{s.invalidateQueries(h)}),c.onSettled)return c.onSettled(g,R,S,M)}}));return[n(async(g=e,R={},S={})=>{let{mutationMode:M,onSuccess:h,onSettled:v,onError:b}=S;if(f.current=t,M&&(m.current=M),m.current==="pessimistic")return L.mutate(y({resource:g},R),{onSuccess:h,onSettled:v,onError:b});let{ids:E=a,data:N=i,meta:O=u}=R,A=[[g,"getOne"],[g,"getList"],[g,"getMany"],[g,"getManyReference"]];if(x.current=A.reduce((w,U)=>w.concat(s.getQueriesData(U)),[]),await Promise.all(x.current.map(([w])=>s.cancelQueries(w))),await C({resource:g,ids:E,data:N,meta:O}),h&&setTimeout(()=>h(E,y({resource:g},R),{snapshot:x.current}),0),c.onSuccess&&setTimeout(()=>c.onSuccess(E,y({resource:g},R),{snapshot:x.current}),0),m.current==="optimistic")return L.mutate(y({resource:g},R),{onSettled:v,onError:b});Re.once("end",({isUndo:w})=>{w?x.current.forEach(([U,V])=>{s.setQueryData(U,V)}):L.mutate(y({resource:g},R),{onSettled:v,onError:b})})},"updateMany"),L]},"useUpdateMany");import{useRef as so}from"react";import{useMutation as oc,useQueryClient as nc}from"react-query";var Ht=n((e,t={},r={})=>{let o=Y(),s=nc(),{id:a,previousData:i}=t,T=r,{mutationMode:u="pessimistic"}=T,l=F(T,["mutationMode"]),c=so(u),m=so(t),f=so([]),x=n(({resource:P,id:g})=>{let R=Date.now(),S=c.current==="undoable"?R+5*1e3:R,M=n(h=>{if(!h)return;let v=h.findIndex(b=>b.id==g);return v===-1?h:[...h.slice(0,v),...h.slice(v+1)]},"updateColl");s.setQueriesData([P,"getList"],h=>{if(!h||!h.data)return h;let v=M(h.data);return v.length<h.data.length?{data:v,total:h.total-1}:h},{updatedAt:S}),s.setQueriesData([P,"getMany"],h=>h&&h.length>0?M(h):h,{updatedAt:S}),s.setQueriesData([P,"getManyReference"],h=>{if(!h||!h.data)return h;let v=M(h.data);return v.length<h.data.length?{data:v,total:h.total-1}:h},{updatedAt:S})},"updateCache"),C=oc(({resource:P=e,id:g=m.current.id,previousData:R=m.current.previousData,meta:S=m.current.meta}={})=>o.delete(P,{id:g,previousData:R,meta:S}).then(({data:M})=>M),D(y({},l),{onMutate:async P=>{if(l.onMutate){let g=await l.onMutate(P)||{};return y({snapshot:f.current},g)}else return{snapshot:f.current}},onError:(P,g={},R)=>{if((c.current==="optimistic"||c.current==="undoable")&&R.snapshot.forEach(([S,M])=>{s.setQueryData(S,M)}),l.onError)return l.onError(P,g,R)},onSuccess:(P,g={},R)=>{if(c.current==="pessimistic"){let{resource:S=e,id:M=a}=g;x({resource:S,id:M}),l.onSuccess&&l.onSuccess(P,g,R)}},onSettled:(P,g,R={},S)=>{if((c.current==="optimistic"||c.current==="undoable")&&S.snapshot.forEach(([M])=>{s.invalidateQueries(M)}),l.onSettled)return l.onSettled(P,g,R,S)}}));return[n(async(P=e,g={},R={})=>{let{mutationMode:S,onSuccess:M,onSettled:h,onError:v}=R;if(m.current=t,S&&(c.current=S),c.current==="pessimistic")return C.mutate(y({resource:P},g),{onSuccess:M,onSettled:h,onError:v});let{id:b=a,previousData:E=i}=g,N=[[P,"getList"],[P,"getMany"],[P,"getManyReference"]];if(f.current=N.reduce((O,A)=>O.concat(s.getQueriesData(A)),[]),await Promise.all(f.current.map(([O])=>s.cancelQueries(O))),x({resource:P,id:b}),M&&setTimeout(()=>M(E,y({resource:P},g),{snapshot:f.current}),0),l.onSuccess&&setTimeout(()=>l.onSuccess(E,y({resource:P},g),{snapshot:f.current}),0),c.current==="optimistic")return C.mutate(y({resource:P},g),{onSettled:h,onError:v});Re.once("end",({isUndo:O})=>{O?f.current.forEach(([A,w])=>{s.setQueryData(A,w)}):C.mutate(y({resource:P},g),{onSettled:h,onError:v})})},"mutate"),C]},"useDelete");import{useRef as ao}from"react";import{useMutation as sc,useQueryClient as ac}from"react-query";var cC=n((e,t={},r={})=>{let o=Y(),s=ac(),{ids:a}=t,L=r,{mutationMode:i="pessimistic"}=L,u=F(L,["mutationMode"]),l=ao(i),c=ao({}),m=ao([]),f=n(({resource:T,ids:P})=>{let g=Date.now(),R=l.current==="undoable"?g+5*1e3:g,S=n(M=>{if(!M)return;let h=[...M];return P.forEach(v=>{let b=h.findIndex(E=>E.id==v);b!==-1&&(h=[...h.slice(0,b),...h.slice(b+1)])}),h},"updateColl");s.setQueriesData([T,"getList"],M=>{if(!M||!M.data)return M;let h=S(M.data);return h.length<M.data.length?{data:h,total:M.total-(M.data.length-h.length)}:M},{updatedAt:R}),s.setQueriesData([T,"getMany"],M=>M&&M.length>0?S(M):M,{updatedAt:R}),s.setQueriesData([T,"getManyReference"],M=>{if(!M||!M.data)return M;let h=S(M.data);return h.length<M.data.length?{data:h,total:M.total-(M.data.length-h.length)}:M},{updatedAt:R})},"updateCache"),x=sc(({resource:T=e,ids:P=c.current.ids,meta:g=c.current.meta}={})=>o.deleteMany(T,{ids:P,meta:g}).then(({data:R})=>R),D(y({},u),{onMutate:async T=>{if(u.onMutate){let P=await u.onMutate(T)||{};return y({snapshot:m.current},P)}else return{snapshot:m.current}},onError:(T,P={},g)=>{if((l.current==="optimistic"||l.current==="undoable")&&g.snapshot.forEach(([R,S])=>{s.setQueryData(R,S)}),u.onError)return u.onError(T,P,g)},onSuccess:(T,P={},g)=>{if(l.current==="pessimistic"){let{resource:R=e,ids:S=a}=P;f({resource:R,ids:S}),u.onSuccess&&u.onSuccess(T,P,g)}},onSettled:(T,P,g={},R)=>{if((l.current==="optimistic"||l.current==="undoable")&&R.snapshot.forEach(([S])=>{s.invalidateQueries(S)}),u.onSettled)return u.onSettled(T,P,g,R)}}));return[n(async(T=e,P={},g={})=>{let{mutationMode:R,onSuccess:S,onSettled:M,onError:h}=g;if(c.current=t,R&&(l.current=R),l.current==="pessimistic")return x.mutate(y({resource:T},P),{onSuccess:S,onSettled:M,onError:h});let{ids:v=a}=P,b=[[T,"getList"],[T,"getMany"],[T,"getManyReference"]];if(m.current=b.reduce((E,N)=>E.concat(s.getQueriesData(N)),[]),await Promise.all(m.current.map(([E])=>s.cancelQueries(E))),f({resource:T,ids:v}),S&&setTimeout(()=>S(v,y({resource:T},P),{snapshot:m.current}),0),u.onSuccess&&setTimeout(()=>u.onSuccess(v,y({resource:T},P),{snapshot:m.current}),0),l.current==="optimistic")return x.mutate(y({resource:T},P),{onSettled:M,onError:h});Re.once("end",({isUndo:E})=>{E?m.current.forEach(([N,O])=>{s.setQueryData(N,O)}):x.mutate(y({resource:T},P),{onSettled:M,onError:h})})},"mutate"),x]},"useDeleteMany");import*as $n from"react";import{createContext as ic,useCallback as Zn,useState as uc,useMemo as cc}from"react";import lc from"lodash/isEqual";var io=ic({definitions:{},register:()=>{},unregister:()=>{}}),Bn=n(({definitions:e={},children:t})=>{let[r,o]=uc(e),s=Zn(u=>{o(l=>lc(l[u.name],u)?l:D(y({},l),{[u.name]:u}))},[]),a=Zn(u=>{o(l=>{var f;let x=l,{[f=u.name]:c}=x;return F(x,[he(f)])})},[]),i=cc(()=>({definitions:r,register:s,unregister:a}),[r]);return $n.createElement(io.Provider,{value:i},t)},"ResourceDefinitionContextProvider");var co=n(e=>{let{authProvider:t,basename:r,dataProvider:o,i18nProvider:s,store:a,children:i,history:u,queryClient:l}=e;if(!o)throw new Error(`Missing dataProvider prop.
React-admin requires a valid dataProvider function to work.`);let c=uo(()=>l||new pc,[l]),m=uo(()=>t instanceof Function?Wr(t):t,[t]),f=uo(()=>o instanceof Function?to(o):o,[o]);return Pe.createElement(Be.Provider,{value:m},Pe.createElement(tt.Provider,{value:f},Pe.createElement(tn,{value:a},Pe.createElement(dc,{client:c},Pe.createElement(Zo,{history:u,basename:r},Pe.createElement(Nt,{value:s},Pe.createElement(on,null,Pe.createElement(Bn,null,i))))))))},"CoreAdminContext");co.defaultProps={dataProvider:Ge,store:wt()};import*as Me from"react";import{useEffect as vc,isValidElement as Ec,createElement as wc}from"react";import{Routes as Dc,Route as ts}from"react-router-dom";import*as Z from"react";import{useState as Tc,useEffect as Mc,Children as Sc}from"react";import{Navigate as Lc,Route as ze,Routes as lo}from"react-router-dom";import*as qn from"react";import{Children as fc,Fragment as yc,useCallback as gc,useEffect as Kn,useState as Rc}from"react";import{useContext as mc}from"react";var Yt=n(()=>mc(io),"useResourceDefinitionContext");var Xn=n(e=>{let{permissions:t}=Vr(),[r,o]=Pc(e,t);return xc(r.resources,t),{customRoutesWithLayout:r.customRoutesWithLayout,customRoutesWithoutLayout:r.customRoutesWithoutLayout,status:o,resources:r.resources}},"useConfigureAdminRouterFromChildren"),Pc=n((e,t)=>{let r=De(),{authenticated:o}=jr(),[s,a,i]=hc(nt(e)),[u,l]=W(()=>Cc(y({children:e},s)));return Kn(()=>{let c=n(async f=>{try{let x=f(t);x.then?x.then(C=>{i(nt(C)),l("ready")}):(i(nt(x)),l("ready"))}catch(x){console.error(x),r()}},"resolveChildFunction");n(async()=>{let f=es(e),x=nt(e);a(x),l(f?"loading":x.resources.length>0?"ready":"empty"),f&&c(f)},"updateFromChildren")()},[o,e,r,i,t,a,l]),[s,u]},"useRoutesAndResourcesFromChildren"),hc=n(e=>{let[t,r]=Rc(e),o=gc(s=>{r(a=>({customRoutesWithLayout:a.customRoutesWithLayout.concat(s.customRoutesWithLayout),customRoutesWithoutLayout:a.customRoutesWithoutLayout.concat(s.customRoutesWithoutLayout),resources:a.resources.concat(s.resources)}))},[]);return[t,r,o]},"useRoutesAndResourcesState"),xc=n((e,t)=>{let{register:r,unregister:o}=Yt();Kn(()=>(e.forEach(s=>{if(typeof s.type.registerResource=="function"){let a=s.type.registerResource(s.props,t);r(a)}else throw new Error("When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition")}),()=>{e.forEach(s=>{if(typeof s.type.registerResource=="function"){let a=s.type.registerResource(s.props,t);o(a)}else throw new Error("When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition")})}),[t,r,e,o])},"useRegisterResources"),Cc=n(({children:e,resources:t,customRoutesWithLayout:r,customRoutesWithoutLayout:o})=>es(e)?"loading":t.length>0||r.length>0||o.length>0?"ready":"empty","getStatus"),es=n(e=>{let r=(Array.isArray(e)?e:[e]).filter(o=>typeof o=="function");if(r.length>1)throw new Error("You can only provide one function child to AdminRouter");return r.length===0?null:r[0]},"getSingleChildFunction"),nt=n(e=>{let t=[],r=[],o=[];return fc.forEach(e,s=>{if(!!qn.isValidElement(s)){if(s.type===yc){let a=nt(s.props.children);t.push(...a.customRoutesWithLayout),r.push(...a.customRoutesWithoutLayout),o.push(...a.resources)}if(s.type.raName==="CustomRoutes"){let a=s;a.props.noLayout?r.push(a.props.children):t.push(a.props.children)}else s.type.raName==="Resource"&&o.push(s)}}),{customRoutesWithLayout:t,customRoutesWithoutLayout:r,resources:o}},"getRoutesAndResourceFromNodes");var po=n(e=>{let t=Pn(1e3);Bo();let r=vt(),{customRoutesWithLayout:o,customRoutesWithoutLayout:s,status:a,resources:i}=Xn(e.children),{layout:u,catchAll:l,dashboard:c,loading:m,menu:f,requireAuth:x,ready:C,title:L}=e,[T,P]=Tc(!x),g=Ve();return Mc(()=>{x&&g().then(()=>{P(!0)}).catch(()=>{})},[g,x]),a==="empty"?Z.createElement(C,null):a==="loading"||!T?Z.createElement(lo,null,s,t?Z.createElement(ze,{path:"*",element:Z.createElement(m,null)}):Z.createElement(ze,{path:"*",element:null})):Z.createElement(lo,null,s,Z.createElement(ze,{path:"/*",element:Z.createElement("div",null,Z.createElement(u,{dashboard:c,menu:f,title:L},Z.createElement(lo,null,o,Sc.map(i,R=>Z.createElement(ze,{key:R.props.name,path:`${R.props.name}/*`,element:R})),Z.createElement(ze,{path:"/",element:c?Z.createElement(Qr,{authParams:bc,component:c}):i.length>0?Z.createElement(Lc,{to:r({resource:i[0].props.name,type:"list"})}):null}),Z.createElement(ze,{path:"*",element:Z.createElement(l,{title:L})}))))}))},"CoreAdminRoutes");po.defaultProps={customRoutes:[]};var bc={route:"dashboard"};var Ic=n(({children:e})=>Me.createElement(Me.Fragment,null,e),"DefaultLayout"),rs=n(e=>{let{catchAll:t=os,children:r,dashboard:o,disableTelemetry:s=!1,layout:a=Ic,loading:i=os,loginPage:u=!1,menu:l,ready:c=kr,title:m="React Admin",requireAuth:f=!1}=e;return vc(()=>{if(s||process.env.NODE_ENV!=="production"||typeof window=="undefined"||typeof window.location=="undefined"||typeof Image=="undefined")return;let x=new Image;x.src=`https://react-admin-telemetry.marmelab.com/react-admin-telemetry?domain=${window.location.hostname}`},[s]),Me.createElement(Dc,null,u!==!1&&u!==!0?Me.createElement(ts,{path:"/login",element:Ac(u)}):null,Me.createElement(ts,{path:"/*",element:Me.createElement(po,{catchAll:t,dashboard:o,layout:a,loading:i,menu:l,requireAuth:f,ready:c,title:m},r)}))},"CoreAdminUI"),Ac=n(e=>Ec(e)?e:wc(e),"createOrGetElement"),os=n(()=>null,"Noop");var ST=n(e=>{let{authProvider:t,basename:r,catchAll:o,children:s,dashboard:a,dataProvider:i,disableTelemetry:u,history:l,i18nProvider:c,queryClient:m,layout:f,loading:x,loginPage:C,menu:L,ready:T,requireAuth:P,title:g="React Admin"}=e;return mo.createElement(co,{authProvider:t,basename:r,dataProvider:i,i18nProvider:c,queryClient:m,history:l},mo.createElement(rs,{layout:f,dashboard:a,disableTelemetry:u,menu:L,catchAll:o,title:g,loading:x,loginPage:C,requireAuth:P,ready:T},s))},"CoreAdmin");var Fc=n(e=>null,"CustomRoutes");Fc.raName="CustomRoutes";import*as se from"react";import{isValidElement as $t}from"react";import{Route as Zt,Routes as Oc}from"react-router-dom";import*as ns from"react";import{createContext as Nc}from"react";var Jt=Nc(void 0);var pe=n(({children:e,value:t})=>t?ns.createElement(Jt.Provider,{value:t},e):e,"ResourceContextProvider");var ss=n(e=>{let{create:t,edit:r,list:o,name:s,show:a}=e;return se.createElement(pe,{value:s},se.createElement(Oc,null,t&&se.createElement(Zt,{path:"create/*",element:$t(t)?t:se.createElement(t,null)}),a&&se.createElement(Zt,{path:":id/show/*",element:$t(a)?a:se.createElement(a,null)}),r&&se.createElement(Zt,{path:":id/*",element:$t(r)?r:se.createElement(r,null)}),o&&se.createElement(Zt,{path:"/*",element:$t(o)?o:se.createElement(o,null)})))},"Resource");ss.raName="Resource";ss.registerResource=({create:e,edit:t,icon:r,list:o,name:s,options:a,show:i})=>({name:s,options:a,hasList:!!o,hasCreate:!!e,hasEdit:!!t,hasShow:!!i,icon:r});import fo from"inflection";var Bt=n(()=>Yt().definitions,"useResourceDefinitions");var Se=n(()=>{let e=_(),t=Bt();return(r,o=2)=>{let s=t[r];return e(`resources.${r}.name`,{smart_count:o,_:s&&s.options&&s.options.label?e(s.options.label,{smart_count:o,_:s.options.label}):fo.humanize(o>1?fo.pluralize(r):fo.singularize(r))})}},"useGetResourceLabel");import{useContext as Uc}from"react";var z=n(e=>{let t=Uc(Jt);return e&&e.resource||t},"useResourceContext");import{useMemo as kc}from"react";import jc from"lodash/defaults";var as=n(e=>{let t=z(e),r=Bt(),{hasCreate:o,hasEdit:s,hasList:a,hasShow:i}=e||{};return kc(()=>jc({},{hasCreate:o,hasEdit:s,hasList:a,hasShow:i},r[t]),[t,r,o,s,a,i])},"useResourceDefinition");import Vc from"jsonexport/dist";var yo=n((e,t)=>{let r=document.createElement("a");r.style.display="none",document.body.appendChild(r);let o=new Blob([e],{type:"text/csv;charset=utf-8"});window.navigator&&window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(o,`${t}.csv`):(r.setAttribute("href",URL.createObjectURL(o)),r.setAttribute("download",`${t}.csv`),r.click())},"default");var Gc=n((e,t,r,o)=>Vc(e,(s,a)=>yo(a,o)),"defaultExporter"),st=Gc;import{createContext as Qc}from"react";var is=Qc(st);is.displayName="ExporterContext";var _c=is;var zc=n(e=>(t,r,o)=>e.getMany(o,{ids:Wc(t,r)}).then(({data:s})=>s.reduce((a,i)=>(a[i.id]=i,a),{})),"fetchRelatedRecords"),Wc=n((e,t)=>Array.from(new Set(e.filter(r=>r[t]!=null).map(r=>r[t]).reduce((r,o)=>r.concat(o),[]))),"getRelatedIds"),Hc=zc;import*as ms from"react";import nr from"inflection";var Ie=n(e=>e.reduce((t,r)=>(Object.keys(r).forEach(o=>{if(t[o]||(t[o]=[]),r[o]!=null){let s=Array.isArray(r[o])?[r[o]]:r[o];t[o]=t[o].concat(s)}}),t),{}),"default");import{createElement as us}from"react";var go=class{constructor(t,r,o){this.type=t;this.props=r;this.children=o}getElement(t={}){if(!!this.isDefined())return this.children?us(this.type.component,y(y({},this.props),t),this.children.length>0?this.children.map((r,o)=>r.getElement({key:o})):this.children.getElement()):us(this.type.component,y(y({},this.props),t))}getProps(){return this.props}isDefined(){return!!this.type}getRepresentation(){if(!!this.isDefined())return this.type.representation?this.type.representation(this.props,this.children):`<${this.type.component.displayName||this.type.component.name} source="${this.props.source}" />`}};n(go,"InferredElement");var Q=go;import{isMatch as cs,isValid as Yc,parseISO as Jc}from"date-fns";var $c=n(e=>!isNaN(parseFloat(e))&&isFinite(e),"isNumeric"),at=n(e=>e.every($c),"valuesAreNumeric"),Zc=n(e=>Number.isInteger(e)||!isNaN(parseInt(e)),"isInteger"),it=n(e=>e.every(Zc),"valuesAreInteger"),Bc=n(e=>typeof e=="boolean","isBoolean"),qt=n(e=>e.every(Bc),"valuesAreBoolean");var qc=n(e=>typeof e=="string","isString"),Kt=n(e=>e.every(qc),"valuesAreString"),Kc=/<([A-Z][A-Z0-9]*)\b[^>]*>(.*?)<\/\1>/i,Xc=n(e=>!e||Kc.test(e),"isHtml"),Xt=n(e=>e.every(Xc),"valuesAreHtml"),el=/http(s*):\/\/.*/i,tl=n(e=>!e||el.test(e),"isUrl"),ls=n(e=>e.every(tl),"valuesAreUrl"),rl=/http(s*):\/\/.*\.(jpeg|jpg|jfif|pjpeg|pjp|png|svg|gif|webp|apng|bmp|ico|cur|tif|tiff)/i,ol=n(e=>!e||rl.test(e),"isImageUrl"),ds=n(e=>e.every(ol),"valuesAreImageUrl"),nl=/@{1}/,sl=n(e=>!e||nl.test(e),"isEmail"),ps=n(e=>e.every(sl),"valuesAreEmail"),al=n(e=>Array.isArray(e),"isArray"),er=n(e=>e.every(al),"valuesAreArray"),il=n(e=>!e||e instanceof Date,"isDate"),tr=n(e=>e.every(il),"valuesAreDate"),ul=n(e=>!e||typeof e=="string"&&(cs(e,"MM/dd/yyyy")||cs(e,"MM/dd/yy")||Yc(Jc(e))),"isDateString"),rr=n(e=>e.every(ul),"valuesAreDateString"),ut=n(e=>Object.prototype.toString.call(e)==="[object Object]","isObject"),or=n(e=>e.every(ut),"valuesAreObject");var cl=n(()=>ms.createElement("span",null,";"),"DefaultComponent"),ae={type:cl,representation:()=>"<DefaultComponent />"},ll={array:ae,boolean:ae,date:ae,email:ae,id:ae,number:ae,reference:ae,referenceArray:ae,richText:ae,string:ae,url:ae},re=n((e,t)=>typeof t[e]!="undefined","hasType"),Ro=n((e,t=[],r=ll)=>{if(e==="id"&&re("id",r))return new Q(r.id,{source:e});if(e.substr(e.length-3)==="_id"&&re("reference",r)){let o=nr.pluralize(e.substr(0,e.length-3));return r.reference&&new Q(r.reference,{source:e,reference:o},new Q(r.referenceChild))}if(e.substr(e.length-2)==="Id"&&re("reference",r)){let o=nr.pluralize(e.substr(0,e.length-2));return r.reference&&new Q(r.reference,{source:e,reference:o},new Q(r.referenceChild))}if(e.substr(e.length-4)==="_ids"&&re("referenceArray",r)){let o=nr.pluralize(e.substr(0,e.length-4));return r.referenceArray&&new Q(r.referenceArray,{source:e,reference:o},new Q(r.referenceArrayChild))}if(e.substr(e.length-3)==="Ids"&&re("referenceArray",r)){let o=nr.pluralize(e.substr(0,e.length-3));return r.referenceArray&&new Q(r.referenceArray,{source:e,reference:o},new Q(r.referenceArrayChild))}if(t.length===0)return new Q(r.string,{source:e});if(er(t)){if(ut(t[0][0])&&re("array",r)){let o=Ie(t.reduce((s,a)=>s.concat(a),[]));return r.array&&new Q(r.array,{source:e},Object.keys(o).map(s=>Ro(s,o[s],r)))}return new Q(r.string,{source:e})}if(qt(t)&&re("boolean",r))return new Q(r.boolean,{source:e});if(tr(t)&&re("date",r))return new Q(r.date,{source:e});if(Kt(t))return e==="email"&&re("email",r)?new Q(r.email,{source:e}):e==="url"&&re("url",r)?new Q(r.url,{source:e}):rr(t)&&re("date",r)?new Q(r.date,{source:e}):Xt(t)&&re("richText",r)?new Q(r.richText,{source:e}):new Q(r.string,{source:e});if((it(t)||at(t))&&re("number",r))return new Q(r.number,{source:e});if(or(t)){let o=Object.keys(t[0]).shift(),s=t.map(a=>a[o]);return Ro(`${e}.${o}`,s,r)}return new Q(r.string,{source:e})},"inferElementFromValues"),fs=Ro;var dl=n((e,t)=>{let r=Ie(e);return Object.keys(r).reduce((o,s)=>o.concat(fs(s,r[s],t)),[]).filter(o=>o.isDefined())},"default");import sr from"inflection";var bM=["array","boolean","date","email","id","image","number","reference","referenceChild","referenceArray","referenceArrayChild","richText","string","url","object"],ys=n((e,t=[])=>{if(e==="id")return{type:"id",props:{source:e}};if(e.substr(e.length-3)==="_id")return{type:"reference",props:{source:e,reference:sr.pluralize(e.substr(0,e.length-3))},children:{type:"referenceChild"}};if(e.substr(e.length-2)==="Id")return{type:"reference",props:{source:e,reference:sr.pluralize(e.substr(0,e.length-2))},children:{type:"referenceChild"}};if(e.substr(e.length-4)==="_ids")return{type:"referenceArray",props:{source:e,reference:sr.pluralize(e.substr(0,e.length-4))},children:{type:"referenceArrayChild"}};if(e.substr(e.length-3)==="Ids")return{type:"referenceArray",props:{source:e,reference:sr.pluralize(e.substr(0,e.length-3))},children:{type:"referenceArrayChild"}};if(t.length===0)return e==="email"?{type:"email",props:{source:e}}:e==="url"?{type:"url",props:{source:e}}:{type:"string",props:{source:e}};if(er(t)){if(ut(t[0][0])){let r=Ie(t.reduce((o,s)=>o.concat(s),[]));return{type:"array",props:{source:e},children:Object.keys(r).map(o=>ys(o,r[o]))}}return{type:"string",props:{source:e}}}if(qt(t))return{type:"boolean",props:{source:e}};if(tr(t))return{type:"date",props:{source:e}};if(Kt(t))return e==="email"||ps(t)?{type:"email",props:{source:e}}:e==="url"||ls(t)?ds(t)?{type:"image",props:{source:e}}:{type:"url",props:{source:e}}:rr(t)?{type:"date",props:{source:e}}:Xt(t)?{type:"richText",props:{source:e}}:it(t)||at(t)?{type:"number",props:{source:e}}:{type:"string",props:{source:e}};if(it(t)||at(t))return{type:"number",props:{source:e}};if(or(t)){let r=Object.keys(t[0]).shift(),o=t.map(s=>s[r]);return ys(`${e}.${r}`,o)}return{type:"string",props:{source:e}}},"inferTypeFromValues");import{useEffect as pl,useRef as gs,useCallback as ml}from"react";import fl from"lodash/debounce";import yl from"lodash/isEqual";var gl=n(e=>({q:e}),"defaultFilterToQuery"),Rl=n(({filterToQuery:e=gl,permanentFilter:t={},debounceTime:r=500})=>{let o=gs(t),s=gs(),[a,i]=W(y(y({},t),e(""))),u=JSON.stringify(t);pl(()=>{yl(o.current,t)||(o.current=t,i(y(y({},t),e(s.current))))},[u,o,e]);let l=ml(fl(c=>{i(y(y({},t),e(c))),s.current=c},r),[u]);return{filter:a,setFilter:l}},"default");import{useReducer as xl,useEffect as Cl,useRef as Tl,useCallback as ho}from"react";import Pl from"lodash/set";var ct="SET_SORT",ne="ASC",ar="DESC",We="SET_PAGE",lt="SET_PER_PAGE",Ae="SET_FILTER",dt="SHOW_FILTER",pt="HIDE_FILTER",hl=n(e=>e===ar?ne:ar,"oppositeOrder"),ir=n((e,t)=>{switch(t.type){case ct:return t.payload.field===e.sort?D(y({},e),{order:hl(e.order),page:1}):D(y({},e),{sort:t.payload.field,order:t.payload.order||ne,page:1});case We:return D(y({},e),{page:t.payload});case lt:return D(y({},e),{page:1,perPage:t.payload});case Ae:return D(y({},e),{page:1,filter:t.payload.filter,displayedFilters:t.payload.displayedFilters?t.payload.displayedFilters:e.displayedFilters});case dt:return e.displayedFilters&&e.displayedFilters[t.payload.filterName]?e:D(y({},e),{filter:typeof t.payload.defaultValue!="undefined"?Pl(e.filter,t.payload.filterName,t.payload.defaultValue):e.filter,displayedFilters:D(y({},e.displayedFilters),{[t.payload.filterName]:!0})});case pt:return D(y({},e),{filter:X(Or(e.filter,t.payload)),displayedFilters:e.displayedFilters?Object.keys(e.displayedFilters).reduce((r,o)=>o!==t.payload?D(y({},r),{[o]:!0}):r,{}):e.displayedFilters});default:return e}},"queryReducer"),Po=ir;var Ml=n((e,t)=>{switch(t.type){case"SET_SORT":return t.payload;case"SET_SORT_FIELD":{let r=t.payload,o=e.field===r?e.order===ne?ar:ne:ne;return{field:r,order:o}}case"SET_SORT_ORDER":{let r=t.payload;return D(y({},e),{order:r})}default:return e}},"sortReducer"),Sl={field:"id",order:"DESC"},Ll=n((e=Sl)=>{let[t,r]=xl(Ml,e),o=Tl(!0);return Cl(()=>{if(o.current){o.current=!1;return}r({type:"SET_SORT",payload:e})},[e.field,e.order]),{setSort:ho(s=>r({type:"SET_SORT",payload:s}),[r]),setSortField:ho(s=>r({type:"SET_SORT_FIELD",payload:s}),[r]),setSortOrder:ho(s=>r({type:"SET_SORT_ORDER",payload:s}),[r]),sort:t}},"useSortState"),mt=Ll;import{useEffect as bl,useReducer as vl,useCallback as Rs,useRef as El}from"react";var wl=n((e,t)=>y(y({},e),t),"paginationReducer"),Dl={page:1,perPage:25},ft=n((e={})=>{let[t,r]=vl(wl,y(y({},Dl),e)),o=El(!0),s=Rs(i=>r({perPage:i,page:1}),[]),a=Rs(i=>r({page:i}),[]);return bl(()=>{if(o.current){o.current=!1;return}s(e.perPage||25)},[e.perPage,s]),{page:t.page,perPage:t.perPage,pagination:t,setPage:a,setPerPage:s,setPagination:r}},"default");import*as Il from"react";var Al=n((e,t,r)=>{let o=Object.keys(r),s=t.filter(a=>!o.includes(a));if(s.length>0)throw new Error(`<${e}> component is not properly configured, some essential props are missing.
Be sure to pass the props from the parent. Example:

const My${e} = props => (
    <${e} {...props}></${e}>
);

The missing props are: ${s.join(", ")}`)},"useCheckMinimumRequiredProps");import{useCallback as Fl}from"react";var Nl=n(e=>{let{record:t,redirect:r="list",onClick:o,mutationOptions:s}=e,a=z(e),i=G(),u=ur(a),l=ce(),[c,{isLoading:m}]=Ht(),f=Fl(x=>{x.stopPropagation(),c(a,{id:t.id,previousData:t},y({onSuccess:()=>{i("ra.notification.deleted",{type:"info",messageArgs:{smart_count:1},undoable:!0}),u([t.id]),l(r,a)},onError:C=>{i(typeof C=="string"?C:C.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof C=="string"?C:C&&C.message?C.message:void 0}})},mutationMode:"undoable"},s)),typeof o=="function"&&o(x)},[c,s,i,o,t,l,r,a,u]);return{isLoading:m,handleDelete:f}},"useDeleteWithUndoController"),Ol=Nl;import{useState as Ul,useCallback as kl}from"react";var jl=n(e=>{let{record:t,redirect:r,mutationMode:o,onClick:s,mutationOptions:a}=e,i=z(e),[u,l]=Ul(!1),c=G(),m=ur(i),f=ce(),[x,{isLoading:C}]=Ht(),L=n(g=>{l(!0),g.stopPropagation()},"handleDialogOpen"),T=n(g=>{l(!1),g.stopPropagation()},"handleDialogClose"),P=kl(g=>{g.stopPropagation(),x(i,{id:t.id,previousData:t},y({onSuccess:()=>{l(!1),c("ra.notification.deleted",{type:"info",messageArgs:{smart_count:1},undoable:o==="undoable"}),m([t.id]),f(r,i)},onError:R=>{l(!1),c(typeof R=="string"?R:R.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof R=="string"?R:R&&R.message?R.message:void 0}})},mutationMode:o},a)),typeof s=="function"&&s(g)},[x,o,a,c,s,t,f,r,i,m]);return{open:u,isLoading:C,handleDialogOpen:L,handleDialogClose:T,handleDelete:P}},"useDeleteWithConfirmController"),Vl=jl;import*as Co from"react";import{useCallback as Jl}from"react";import{parse as $l}from"query-string";import{useLocation as Zl}from"react-router-dom";import{createContext as Gl}from"react";var cr=Gl(void 0);import*as Ps from"react";var lr=n(({children:e,value:t})=>Ps.createElement(cr.Provider,{value:t},e),"SaveContextProvider");import{useMemo as Ql}from"react";import _l from"lodash/pick";var dr=n(e=>Ql(()=>_l(e,["save","saving","mutationMode","registerMutationMiddleware","unregisterMutationMiddleware"]),[e.save,e.saving,e.mutationMode,e.registerMutationMiddleware,e.unregisterMutationMiddleware]),"usePickSaveContext");import{useContext as zl}from"react";var pr=n(e=>zl(cr),"useSaveContext");import{useCallback as xo,useMemo as Wl,useRef as Hl}from"react";var mr=n(()=>{let e=Hl([]),t=xo(a=>{e.current.push(a)},[]),r=xo(a=>{e.current=e.current.filter(i=>i!==a)},[]),o=xo(a=>(...i)=>{let u=e.current.length-1,l=n((...c)=>(u--,u>=0?e.current[u](...c,l):a(...c)),"next");return e.current.length>0?e.current[u](...i,l):a(...i)},[]);return Wl(()=>({registerMutationMiddleware:t,getMutateWithMiddlewares:o,unregisterMutationMiddleware:r}),[t,o,r])},"useMutationMiddlewares");import{useEffect as Yl}from"react";var AS=n(e=>{let{registerMutationMiddleware:t,unregisterMutationMiddleware:r}=pr();Yl(()=>(t(e),()=>{r(e)}),[e,t,r])},"useRegisterMutationMiddleware");var fr=n((e={})=>{var O;let{disableAuthentication:t,record:r,redirect:o,transform:s,mutationOptions:a={}}=e;oe({enabled:!t});let i=z(e),{hasEdit:u,hasShow:l}=as(e),c=o!=null?o:ql(l,u),m=Zl(),f=_(),x=G(),C=ce(),L=(O=r!=null?r:Bl(m))!=null?O:void 0,A=a,{onSuccess:T,onError:P}=A,g=F(A,["onSuccess","onError"]),{registerMutationMiddleware:R,getMutateWithMiddlewares:S,unregisterMutationMiddleware:M}=mr(),[h,{isLoading:v}]=Yn(i,void 0,g),b=Jl((w,{onSuccess:U,onError:V,transform:q}={})=>Promise.resolve(q?q(w):s?s(w):w).then(ee=>{S(h)(i,{data:ee},{onSuccess:async(I,j,H)=>{if(U)return U(I,j,H);if(T)return T(I,j,H);x("ra.notification.created",{type:"info",messageArgs:{smart_count:1}}),C(c,i,I.id,I)},onError:V||P||(I=>{x(typeof I=="string"?I:I.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof I=="string"?I:I&&I.message?I.message:void 0}})})})}),[h,c,S,x,P,T,C,i,s]),E=Se(),N=f("ra.page.create",{name:E(i,1)});return{isFetching:!1,isLoading:!1,saving:v,defaultTitle:N,save:b,resource:i,record:L,redirect:c,registerMutationMiddleware:R,unregisterMutationMiddleware:M}},"useCreateController"),Bl=n(({state:e,search:t})=>{if(e&&e.record)return e.record;if(t)try{let r=$l(t);if(r.source){if(Array.isArray(r.source)){console.error(`Failed to parse location search parameter '${t}'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={"title":"foo"}')`);return}return JSON.parse(r.source)}}catch{console.error(`Failed to parse location search parameter '${t}'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={"title":"foo"}')`)}return null},"getRecordFromLocation"),ql=n((e,t)=>t?"edit":e?"show":"list","getDefaultRedirectRoute");import*as gr from"react";import*as hs from"react";import{createContext as Kl}from"react";var yr=Kl(void 0);yr.displayName="RecordContext";var me=n(({children:e,value:t})=>hs.createElement(yr.Provider,{value:t},e),"RecordContextProvider");import{createContext as Xl}from"react";var yt=Xl({record:null,defaultTitle:null,isFetching:null,isLoading:null,redirect:null,resource:null,save:null,saving:null,registerMutationMiddleware:null,unregisterMutationMiddleware:null});yt.displayName="CreateContext";var xs=n(({children:e,value:t})=>gr.createElement(yt.Provider,{value:t},gr.createElement(lr,{value:D(y({},dr(t)),{mutationMode:"pessimistic"})},gr.createElement(me,{value:t&&t.record},e))),"CreateContextProvider");var iL=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);let s=fr(t),a=Co.createElement(xs,{value:s},e);return t.resource?Co.createElement(pe,{value:t.resource},a):a},"CreateBase");var pL=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);let s=fr(t);return e(s)},"CreateController");import{useContext as ed,useMemo as td}from"react";import rd from"lodash/defaults";var RL=n(e=>{let t=ed(yt);return td(()=>rd({},e!=null?od(e):{},t),[t,e])},"useCreateContext"),od=n(({record:e,defaultTitle:t,isFetching:r,isLoading:o,redirect:s,resource:a,save:i,saving:u})=>({record:e,defaultTitle:t,isFetching:r,isLoading:o,redirect:s,resource:a,save:i,saving:u}),"extractCreateContextProps");import*as To from"react";import{useCallback as nd}from"react";import{useParams as sd}from"react-router-dom";var Rr=n((e={})=>{let{disableAuthentication:t,id:r,mutationMode:o="undoable",mutationOptions:s={},queryOptions:a={},redirect:i=Cs,transform:u}=e;oe({enabled:!t});let l=z(e),c=_(),m=G(),f=ce(),x=_t(),{id:C}=sd(),L=r||decodeURIComponent(C),ee=s,{onSuccess:T,onError:P}=ee,g=F(ee,["onSuccess","onError"]),{registerMutationMiddleware:R,getMutateWithMiddlewares:S,unregisterMutationMiddleware:M}=mr(),{data:h,error:v,isLoading:b,isFetching:E,refetch:N}=zt(l,{id:L},y({onError:()=>{m("ra.notification.item_doesnt_exist",{type:"warning"}),f("list",l),x()},refetchOnReconnect:!1,refetchOnWindowFocus:!1,retry:!1},a));if(h&&h.id&&h.id!=L)throw new Error(`useEditController: Fetched record's id attribute (${h.id}) must match the requested 'id' (${L})`);let O=Se(),A=c("ra.page.edit",{name:O(l,1),id:L,record:h}),w={id:L,previousData:h},[U,{isLoading:V}]=Jn(l,w,D(y({},g),{mutationMode:o})),q=nd((k,{onSuccess:I,onError:j,transform:H}={})=>Promise.resolve(H?H(k,{previousData:w.previousData}):u?u(k,{previousData:w.previousData}):k).then(J=>S(U)(l,{id:L,data:J},{onSuccess:async($,Ee,Ze)=>{if(I)return I($,Ee,Ze);if(T)return T($,Ee,Ze);m("ra.notification.updated",{type:"info",messageArgs:{smart_count:1},undoable:o==="undoable"}),f(i,l,$.id,$)},onError:j||P||($=>{m(typeof $=="string"?$:$.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof $=="string"?$:$&&$.message?$.message:void 0}})})})),[L,S,o,m,P,T,f,i,l,u,U,w.previousData]);return{defaultTitle:A,error:v,isFetching:E,isLoading:b,mutationMode:o,record:h,redirect:Cs,refetch:N,registerMutationMiddleware:R,resource:l,save:q,saving:V,unregisterMutationMiddleware:M}},"useEditController"),Cs="list";import*as Pr from"react";import{useContext as ad}from"react";var fe=n(e=>{let t=ad(yr);return e&&e.record||t},"useRecordContext");var kL=n(({render:e})=>{let t=fe();return t?e(t):null},"WithRecord");import*as Ts from"react";var Ms=n(({value:e,children:t})=>e?Ts.createElement(me,{value:e},t):t,"OptionalRecordContextProvider");import{createContext as id}from"react";var gt=id({record:null,defaultTitle:null,isFetching:null,isLoading:null,mutationMode:null,redirect:null,refetch:null,resource:null,save:null,saving:null,registerMutationMiddleware:null,unregisterMutationMiddleware:null});gt.displayName="EditContext";var Ss=n(({children:e,value:t})=>Pr.createElement(gt.Provider,{value:t},Pr.createElement(lr,{value:dr(t)},Pr.createElement(me,{value:t&&t.record},e))),"EditContextProvider");var qL=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);let s=Rr(t),a=To.createElement(Ss,{value:s},e);return t.resource?To.createElement(pe,{value:t.resource},a):a},"EditBase");var rb=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);let s=Rr(t);return e(s)},"EditController");import{useContext as ud,useMemo as cd}from"react";import ld from"lodash/defaults";var ib=n(e=>{let t=ud(gt);return cd(()=>ld({},e!=null?dd(e):{},t),[t,e])},"useEditContext"),dd=n(({data:e,record:t,defaultTitle:r,isFetching:o,isLoading:s,mutationMode:a,redirect:i,resource:u,save:l,saving:c})=>({data:t||e,record:t||e,defaultTitle:r,isFetching:o,isLoading:s,mutationMode:a,redirect:i,resource:u,save:l,saving:c}),"extractEditContextProps");import np from"lodash/get";import*as Mo from"react";import{isValidElement as wd,useEffect as Dd,useMemo as Id}from"react";import{useMemo as pd}from"react";var ye=n(e=>{let t=`${e}.selectedIds`,[r,o]=le(t,md),s=Tn(t),a=pd(()=>({select:i=>{!i||o([...i])},unselect(i){!i||i.length===0||o(u=>Array.isArray(u)?u.filter(l=>!i.includes(l)):[])},toggle:i=>{typeof i!="undefined"&&o(u=>{if(!Array.isArray(u))return[...u];let l=u.indexOf(i);return l>-1?[...u.slice(0,l),...u.slice(l+1)]:[...u,i]})},clearSelection:()=>{s()}}),[o,s]);return[r,a]},"useRecordSelection"),md=[];import{useCallback as Fe,useMemo as fd,useEffect as yd,useState as gd,useRef as Rd}from"react";import{parse as Pd,stringify as hd}from"query-string";import xd from"lodash/debounce";import Cd from"lodash/pickBy";import{useNavigate as Td,useLocation as Md}from"react-router-dom";var Ls=n(({resource:e,filterDefaultValues:t,sort:r=Ed,perPage:o=10,debounce:s=500,disableSyncWithLocation:a=!1})=>{let i=Md(),u=Td(),[l,c]=gd(ws),m=`${e}.listParams`,[f,x]=le(m,ws),C=Rd(),L=hn(),T=[i.search,e,JSON.stringify(a?l:f),JSON.stringify(t),JSON.stringify(r),o,a],P=a?{}:Ld(i),g=fd(()=>vd({queryFromLocation:P,params:a?l:f,filterDefaultValues:t,sort:r,perPage:o}),T);yd(()=>{Object.keys(P).length>0&&x(g)},[i.search]);let R=Fe(w=>{!L.current||(C.current?C.current=Po(C.current,w):(C.current=Po(g,w),setTimeout(()=>{a?c(C.current):u({search:`?${hd(D(y({},C.current),{filter:JSON.stringify(C.current.filter),displayedFilters:JSON.stringify(C.current.displayedFilters)}))}`},{state:{_scrollToTop:w.type===We}}),C.current=void 0},0)))},T),S=Fe(w=>R({type:ct,payload:w}),T),M=Fe(w=>R({type:We,payload:w}),T),h=Fe(w=>R({type:lt,payload:w}),T),v=g.filter||Es,b=g.displayedFilters||Es,E=xd((w,U)=>{R({type:Ae,payload:{filter:X(w),displayedFilters:U}})},s),N=Fe((w,U,V=!0)=>V?E(w,U):R({type:Ae,payload:{filter:X(w),displayedFilters:U}}),T),O=Fe(w=>{R({type:pt,payload:w})},T),A=Fe((w,U)=>{R({type:dt,payload:{filterName:w,defaultValue:U}})},T);return[y({displayedFilters:b,filterValues:v,requestSignature:T},g),{changeParams:R,setPage:M,setPerPage:h,setSort:S,setFilters:N,hideFilter:O,showFilter:A}]},"useListParams"),Sd=["page","perPage","sort","order","filter","displayedFilters"],bs=n((e,t)=>{if(e[t]&&typeof e[t]=="string")try{e[t]=JSON.parse(e[t])}catch{delete e[t]}},"parseObject"),Ld=n(({search:e})=>{let t=Cd(Pd(e),(r,o)=>Sd.indexOf(o)!==-1);return bs(t,"filter"),bs(t,"displayedFilters"),t},"parseQueryFromLocation"),bd=n(e=>e&&e.filter&&(Object.keys(e.filter).length>0||e.order!=null||e.page!==1||e.perPage!=null||e.sort!=null),"hasCustomParams"),vd=n(({queryFromLocation:e,params:t,filterDefaultValues:r,sort:o,perPage:s})=>{let a=Object.keys(e).length>0?e:bd(t)?y({},t):{filter:r||{}};return a.sort||(a.sort=o.field,a.order=o.order),a.perPage==null&&(a.perPage=s),a.page==null&&(a.page=1),D(y({},a),{page:vs(a.page,1),perPage:vs(a.perPage,10)})},"getQuery"),vs=n((e,t)=>{let r=typeof e=="string"?parseInt(e,10):e;return isNaN(r)?t:r},"getNumberOrDefault"),Es={},Ed={field:"id",order:ne},ws={};var hr=n((e={})=>{let{disableAuthentication:t,exporter:r=st,filterDefaultValues:o,sort:s=Ad,perPage:a=10,filter:i,debounce:u=500,disableSyncWithLocation:l,queryOptions:c}=e;oe({enabled:!t});let m=z(e);if(!m)throw new Error("<List> was called outside of a ResourceContext and without a resource prop. You must set the resource prop.");if(i&&wd(i))throw new Error("<List> received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.");let f=_(),x=G(),[C,L]=Ls({resource:m,filterDefaultValues:o,sort:s,perPage:a,debounce:u,disableSyncWithLocation:l}),[T,P]=ye(m),{data:g,pageInfo:R,total:S,error:M,isLoading:h,isFetching:v,refetch:b}=Qe(m,{pagination:{page:C.page,perPage:C.perPage},sort:{field:C.sort,order:C.order},filter:y(y({},C.filter),i)},y({keepPreviousData:!0,retry:!1,onError:A=>x((A==null?void 0:A.message)||"ra.notification.http_error",{type:"warning",messageArgs:{_:A==null?void 0:A.message}})},c));Dd(()=>{if(C.page<=0||!v&&C.page>1&&g.length===0){L.setPage(1);return}if(S==null)return;let A=Math.ceil(S/C.perPage)||1;!v&&C.page>A&&L.setPage(A)},[v,C.page,C.perPage,g,L,S]);let E=Id(()=>({field:C.sort,order:C.order}),[C.sort,C.order]),N=Se(),O=f("ra.page.list",{name:N(m,2)});return{sort:E,data:g,defaultTitle:O,displayedFilters:C.displayedFilters,error:M,exporter:r,filter:i,filterValues:C.filterValues,hideFilter:L.hideFilter,isFetching:v,isLoading:h,onSelect:P.select,onToggleItem:P.toggle,onUnselectItems:P.clearSelection,page:C.page,perPage:C.perPage,refetch:b,resource:m,selectedIds:T,setFilters:L.setFilters,setPage:L.setPage,setPerPage:L.setPerPage,setSort:L.setSort,showFilter:L.showFilter,total:S,hasNextPage:R?R.hasNextPage:S!=null?C.page*C.perPage<S:void 0,hasPreviousPage:R?R.hasPreviousPage:C.page>1}},"useListController"),Ad={field:"id",order:ne},Ds=["sort","data","defaultTitle","displayedFilters","error","exporter","filterValues","hideFilter","isFetching","isLoading","onSelect","onToggleItem","onUnselectItems","page","perPage","refetch","refresh","resource","selectedIds","setFilters","setPage","setPerPage","setSort","showFilter","total","totalPages"],Fb=n(e=>Ds.reduce((t,r)=>D(y({},t),{[r]:e[r]}),{}),"getListControllerProps"),Nb=n(e=>Object.keys(e).filter(t=>!Ds.includes(t)).reduce((t,r)=>D(y({},t),{[r]:e[r]}),{}),"sanitizeListRestProps");import*as Ct from"react";import{createContext as Fd}from"react";var Rt=Fd({sort:null,data:null,defaultTitle:null,displayedFilters:null,exporter:null,filterValues:null,hasNextPage:null,hasPreviousPage:null,hideFilter:null,isFetching:null,isLoading:null,onSelect:null,onToggleItem:null,onUnselectItems:null,page:null,perPage:null,refetch:null,resource:null,selectedIds:void 0,setFilters:null,setPage:null,setPerPage:null,setSort:null,showFilter:null,total:null});Rt.displayName="ListContext";import{createContext as Nd,useMemo as Od}from"react";import Ud from"lodash/pick";var Pt=Nd({displayedFilters:null,filterValues:null,hideFilter:null,setFilters:null,showFilter:null,resource:null}),Is=n(e=>Od(()=>Ud(e,["displayedFilters","filterValues","hideFilter","setFilters","showFilter","resource"]),[e.displayedFilters,e.filterValues,e.hideFilter,e.setFilters,e.showFilter]),"usePickFilterContext");Pt.displayName="ListFilterContext";import{createContext as kd,useMemo as jd}from"react";import Vd from"lodash/pick";var ht=kd({sort:null,setSort:null,resource:null}),As=n(e=>jd(()=>Vd(e,["sort","setSort","resource"]),[e.sort,e.setSort]),"usePickSortContext");ht.displayName="ListSortContext";import{createContext as Gd,useMemo as Qd}from"react";import _d from"lodash/pick";var xt=Gd({isLoading:null,page:null,perPage:null,setPage:null,setPerPage:null,hasPreviousPage:null,hasNextPage:null,total:void 0,resource:null});xt.displayName="ListPaginationContext";var Fs=n(e=>Qd(()=>_d(e,["isLoading","hasPreviousPage","hasNextPage","page","perPage","setPage","setPerPage","total","resource"]),[e.isLoading,e.hasPreviousPage,e.hasNextPage,e.page,e.perPage,e.setPage,e.setPerPage,e.total]),"usePickPaginationContext");var Ns=n(({value:e,children:t})=>Ct.createElement(Rt.Provider,{value:e},Ct.createElement(Pt.Provider,{value:Is(e)},Ct.createElement(ht.Provider,{value:As(e)},Ct.createElement(xt.Provider,{value:Fs(e)},t)))),"ListContextProvider");var rv=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);return Mo.createElement(pe,{value:t.resource},Mo.createElement(Ns,{value:hr(t)},e))},"ListBase");var iv=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);let s=hr(t);return e(s)},"ListController");import{useCallback as xr,useEffect as Cr,useRef as zd}from"react";import Tt from"lodash/get";import Wd from"lodash/isEqual";var Hd=n(()=>{throw new Error("refetch is not available for a ListContext built from useList based on local data")},"refetch"),Tr=n(e=>{let{data:t,error:r,filter:o=Yd,isFetching:s=!1,isLoading:a=!1,page:i=1,perPage:u=1e3,sort:l=Jd}=e,c=z(e),[m,f]=W(s),[x,C]=W(a),[L,T]=W(()=>({data:t,total:t?t.length:void 0})),{page:P,setPage:g,perPage:R,setPerPage:S}=ft({page:i,perPage:u}),{sort:M,setSort:h}=mt(l),v=xr(k=>{h(k),g(1)},[g,h]),[b,E]=ye(c),N=zd(o),[O,A]=W({}),[w,U]=W(o),V=xr(k=>{A(I=>{let J=I,{[k]:j}=J;return F(J,[he(k)])}),U(I=>{let J=I,{[k]:j}=J;return F(J,[he(k)])})},[A,U]),q=xr((k,I)=>{A(j=>D(y({},j),{[k]:!0})),U(j=>X(D(y({},j),{[k]:I})))},[A,U]),ee=xr((k,I)=>{U(X(k)),I&&A(I),g(1)},[A,U,g]);return Cr(()=>{Wd(o,N.current)||(N.current=o,U(o))}),Cr(()=>{if(a||!t)return;let k=t.filter(j=>Object.entries(w).every(([H,J])=>{let K=Tt(j,H);return Array.isArray(K)?Array.isArray(J)?K.some(Ee=>J.includes(Ee)):K.includes(J):Array.isArray(J)?J.includes(K):J==K})),I=k.length;M.field&&(k=k.sort((j,H)=>Tt(j,M.field)>Tt(H,M.field)?M.order==="ASC"?1:-1:Tt(j,M.field)<Tt(H,M.field)?M.order==="ASC"?-1:1:0)),k=k.slice((P-1)*R,P*R),T({data:k,total:I})},[JSON.stringify(t),w,a,P,R,T,M.field,M.order]),Cr(()=>{s!==m&&f(s)},[s,m,f]),Cr(()=>{a!==x&&C(a)},[a,x,C]),{sort:M,data:L.data,defaultTitle:"",error:r,displayedFilters:O,filterValues:w,hasNextPage:P*R<L.total,hasPreviousPage:P>1,hideFilter:V,isFetching:m,isLoading:x,onSelect:E.select,onToggleItem:E.toggle,onUnselectItems:E.clearSelection,page:P,perPage:R,resource:void 0,refetch:Hd,selectedIds:b,setFilters:ee,setPage:g,setPerPage:S,setSort:v,showFilter:q,total:L.total}},"useList"),Yd={},Jd={field:null,order:null};import{useContext as $d,useMemo as Zd}from"react";import Bd from"lodash/defaults";var Cv=n(e=>{let t=$d(Rt);return Zd(()=>Bd({},e!=null?qd(e):{},t),[t,e])},"useListContext"),qd=n(({sort:e,data:t,defaultTitle:r,displayedFilters:o,exporter:s,filterValues:a,hasCreate:i,hideFilter:u,isFetching:l,isLoading:c,onSelect:m,onToggleItem:f,onUnselectItems:x,page:C,perPage:L,refetch:T,resource:P,selectedIds:g,setFilters:R,setPage:S,setPerPage:M,setSort:h,showFilter:v,total:b})=>({sort:e,data:t,defaultTitle:r,displayedFilters:o,exporter:s,filterValues:a,hasCreate:i,hideFilter:u,isFetching:l,isLoading:c,onSelect:m,onToggleItem:f,onUnselectItems:x,page:C,perPage:L,refetch:T,resource:P,selectedIds:g,setFilters:R,setPage:S,setPerPage:M,setSort:h,showFilter:v,total:b}),"extractListContextProps");import{useContext as Kd}from"react";var bv=n(e=>{let t=Kd(Pt);return t.hideFilter?t:(process.env.NODE_ENV!=="production"&&console.log("List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin."),e)},"useListFilterContext");import{useContext as Xd}from"react";var Iv=n(e=>{let t=Xd(xt);return t.setPage?t:(process.env.NODE_ENV!=="production"&&console.log("List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin."),e)},"useListPaginationContext");import{useContext as ep}from"react";var Uv=n(e=>{let t=ep(ht);return t.setSort?t:(process.env.NODE_ENV!=="production"&&console.log("List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin."),e)},"useListSortContext");import{useCallback as tp}from"react";var ur=n(e=>{let[,{unselect:t}]=ye(e);return tp(r=>{t(r)},[t])},"useUnselect");import{useCallback as rp}from"react";var zv=n(e=>{let[,{clearSelection:t}]=ye(e);return rp(()=>{t()},[t])},"useUnselectAll");import{useCallback as op}from"react";var Jv=n((e,t,r=!1)=>{let[o,s]=le(`${e}.datagrid.expanded`,[]),a=Array.isArray(o)?o.map(u=>u==t).indexOf(!0)!==-1:!1,i=op(()=>{s(u=>{if(!Array.isArray(u))return[t];let l=u.findIndex(c=>c==t);return l>-1?r?[]:[...u.slice(0,l),...u.slice(l+1)]:r?[t]:[...u,t]})},[s,t,r]);return[a,i]},"useExpanded");var sp=[],ap={},ip={field:null,order:null},eE=n(e=>{let{filter:t=ap,page:r=1,perPage:o=1e3,record:s,reference:a,sort:i=ip,source:u}=e,l=G(),c=np(s,u)||sp,{data:m,error:f,isLoading:x,isFetching:C,refetch:L}=_e(a,{ids:c},{onError:P=>l(typeof P=="string"?P:P.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof P=="string"?P:P&&P.message?P.message:void 0}})}),T=Tr({data:m,error:f,filter:t,isFetching:C,isLoading:x,page:r,perPage:o,sort:i});return D(y({},T),{defaultTitle:null,refetch:L,resource:a})},"useReferenceArrayFieldController");import up from"lodash/get";import{useCallback as Mr,useEffect as cp,useRef as lp}from"react";import dp from"lodash/isEqual";var pp={},dE=n(e=>{let{reference:t,record:r,target:o,filter:s=pp,source:a,page:i,perPage:u,sort:l={field:"id",order:"DESC"}}=e,c=G(),{page:m,setPage:f,perPage:x,setPerPage:C}=ft({page:i,perPage:u}),{sort:L,setSort:T}=mt(l),P=Mr(I=>{T(I),f(1)},[f,T]),[g,R]=ye(t),S=lp(s),[M,h]=W({}),[v,b]=W(s),E=Mr(I=>{h(j=>{let K=j,{[I]:H}=K;return F(K,[he(I)])}),b(j=>{let K=j,{[I]:H}=K;return F(K,[he(I)])})},[h,b]),N=Mr((I,j)=>{h(H=>D(y({},H),{[I]:!0})),b(H=>D(y({},H),{[I]:j}))},[h,b]),O=Mr((I,j)=>{b(X(I)),h(j),f(1)},[h,b,f]);cp(()=>{dp(s,S.current)||(S.current=s,b(s))});let{data:A,total:w,pageInfo:U,error:V,isFetching:q,isLoading:ee,refetch:k}=Wt(t,{target:o,id:up(r,a),pagination:{page:m,perPage:x},sort:L,filter:v},{keepPreviousData:!0,onError:I=>c(typeof I=="string"?I:I.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof I=="string"?I:I&&I.message?I.message:void 0}})});return{sort:L,data:A,defaultTitle:null,displayedFilters:M,error:V,filterValues:v,hideFilter:E,isFetching:q,isLoading:ee,onSelect:R.select,onToggleItem:R.toggle,onUnselectItems:R.clearSelection,page:m,perPage:x,refetch:k,resource:t,selectedIds:g,setFilters:O,setPage:f,setPerPage:C,hasNextPage:U?U.hasNextPage:w!=null?m*x<w:void 0,hasPreviousPage:U?U.hasPreviousPage:m>1,setSort:P,showFilter:N,total:w}},"useReferenceManyFieldController");import mp from"lodash/get";var gE=n(e=>{let{reference:t,record:r,target:o,source:s="id"}=e,a=G(),{data:i,error:u,isFetching:l,isLoading:c,refetch:m}=Wt(t,{target:o,id:mp(r,s),pagination:{page:1,perPage:1},sort:{field:"id",order:"ASC"},filter:{}},{enabled:!!r,onError:f=>a(typeof f=="string"?f:f.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof f=="string"?f:f&&f.message?f.message:void 0}})});return{referenceRecord:i?i[0]:void 0,error:u,isFetching:l,isLoading:c,refetch:m}},"useReferenceOneFieldController");var Os=n(e=>e&&e.error!==void 0,"isMatchingReferencesError"),fp=n(({field:e,matchingReferences:t,referenceRecord:r,translate:o=n(s=>s,"translate")})=>{let s=Os(t)?o(t.error,{_:t.error}):null,a=e.value&&!r?o("ra.input.references.single_missing",{_:"ra.input.references.single_missing"}):null;return{waiting:e.value&&a&&!t||!e.value&&!t,error:e.value&&a&&s||!e.value&&s?e.value?a:s:null,warning:a||s,choices:Array.isArray(t)?t:[r].filter(i=>i)}},"getStatusForInput"),Us="REFERENCES_STATUS_READY",yp="REFERENCES_STATUS_INCOMPLETE",So="REFERENCES_STATUS_EMPTY",ks=n((e,t)=>!e.value||e.value.length===t.length?Us:t.length>0?yp:So,"getSelectedReferencesStatus"),gp=n(({field:e,matchingReferences:t,referenceRecords:r,translate:o=n(s=>s,"translate")})=>{let s=ks(e,r),a=Os(t)?o(t.error,{_:t.error}):null,i=Array.isArray(t)?r.concat(t.filter(u=>r.findIndex(l=>l.id===u.id)===-1)):r;return{waiting:!t&&e.value&&s===So||!t&&!e.value,error:a&&(!e.value||e.value&&s===So)?o("ra.input.references.all_missing",{_:"ra.input.references.all_missing"}):null,warning:a||e.value&&s!==Us?a||o("ra.input.references.many_missing",{_:"ra.input.references.many_missing"}):null,choices:i}},"getStatusForArrayInput");import{useCallback as Lp,useMemo as bp}from"react";import{useWatch as vp}from"react-hook-form";import{useCallback as Ne,useMemo as Rp,useState as Pp,useRef as hp}from"react";import xp from"lodash/debounce";var Sr=n(({resource:e,filter:t,sort:r=Mp,page:o=1,perPage:s=10,debounce:a=500})=>{let[i,u]=Pp(Sp),l=hp(),c=[e,JSON.stringify(i),JSON.stringify(t),JSON.stringify(r),o,s],m=Rp(()=>Cp({params:i,filterDefaultValues:t,sort:r,page:o,perPage:s}),c),f=Ne(h=>{l.current?l.current=ir(l.current,h):(l.current=ir(m,h),setTimeout(()=>{u(l.current),l.current=void 0},0))},c),x=Ne(h=>f({type:ct,payload:h}),c),C=Ne(h=>f({type:We,payload:h}),c),L=Ne(h=>f({type:lt,payload:h}),c),T=m.filter||Vs,P=m.displayedFilters||Vs,g=xp((h,v)=>{f({type:Ae,payload:{filter:X(h),displayedFilters:v}})},a),R=Ne((h,v,b=!0)=>{b?g(h,v):f({type:Ae,payload:{filter:X(h),displayedFilters:v}})},c),S=Ne(h=>{f({type:pt,payload:h})},c),M=Ne((h,v)=>{f({type:dt,payload:{filterName:h,defaultValue:v}})},c);return[y({displayedFilters:P,filterValues:T,requestSignature:c},m),{changeParams:f,setPage:C,setPerPage:L,setSort:x,setFilters:R,hideFilter:S,showFilter:M}]},"useReferenceParams");var Cp=n(({params:e,filterDefaultValues:t,sort:r,page:o,perPage:s})=>{let a=Tp(e)?y({},e):{filter:t||{}};return a.sort||(a.sort=r.field,a.order=r.order),a.page==null&&(a.page=o),a.perPage==null&&(a.perPage=s),a.page==null&&(a.page=1),D(y({},a),{page:js(a.page,1),perPage:js(a.perPage,10)})},"getQuery"),Tp=n(e=>e&&e.filter&&(Object.keys(e.filter).length>0||e.order!=null||e.page!==1||e.perPage!=null||e.sort!=null),"hasCustomParams"),js=n((e,t)=>{let r=typeof e=="string"?parseInt(e,10):e;return isNaN(r)?t:r},"getNumberOrDefault"),Vs={},Mp={field:"id",order:ne},Sp={};var EE=n(e=>{let{debounce:t,enableGetChoices:r,filter:o,page:s=1,perPage:a=25,sort:i={field:"id",order:"DESC"},queryOptions:u={},reference:l,source:c}=e,m=vp({name:c}),{data:f,error:x,isLoading:C,isFetching:L,refetch:T}=_e(l,{ids:m||Ep},{enabled:m!=null&&m.length>0}),[P,g]=Sr({resource:l,page:s,perPage:a,sort:i,debounce:t,filter:o}),R=f?f.filter(Boolean):[],S=r?r(P.filterValues):!0,{data:M,total:h,pageInfo:v,error:b,isLoading:E,isFetching:N,refetch:O}=Qe(l,{pagination:{page:P.page,perPage:P.perPage},sort:{field:P.sort,order:P.order},filter:y(y({},P.filter),o)},y({retry:!1,enabled:S},u)),A=M&&M.length>0?wp(M,R):R.length>0?R:M,w=Lp(()=>{T(),O()},[T,O]);return{sort:bp(()=>({field:P.sort,order:P.order}),[P.sort,P.order]),allChoices:A,availableChoices:M,selectedChoices:R,displayedFilters:P.displayedFilters,error:x||b,filter:o,filterValues:P.filterValues,hideFilter:g.hideFilter,isFetching:L||N,isLoading:C||E,page:P.page,perPage:P.perPage,refetch:w,resource:l,setFilters:g.setFilters,setPage:g.setPage,setPerPage:g.setPerPage,setSort:g.setSort,showFilter:g.showFilter,source:c,total:h,hasNextPage:v?v.hasNextPage:h!=null?P.page*P.perPage<h:void 0,hasPreviousPage:v?v.hasPreviousPage:P.page>1}},"useReferenceArrayInputController"),Ep=[],wp=n((e,t)=>{let r=[...e],o=e.map(s=>s.id);return t.forEach(s=>{o.includes(s.id)||(o.push(s.id),r.push(s))}),r},"mergeReferences");import{useCallback as Dp,useMemo as Ip}from"react";import{useWatch as Ap}from"react-hook-form";var Gs=n(({reference:e,id:t,options:r})=>{let{data:o,error:s,isLoading:a,isFetching:i,refetch:u}=_e(e,{ids:[t]},r);return{referenceRecord:s?void 0:o?o[0]:void 0,refetch:u,error:s,isLoading:a,isFetching:i}},"useReference");var jE=n(e=>{let{debounce:t,enableGetChoices:r,filter:o,page:s=1,perPage:a=25,sort:i,queryOptions:u={},reference:l,source:c}=e,[m,f]=Sr({resource:l,page:s,perPage:a,sort:i,debounce:t,filter:o}),x=Ap({name:c}),C=r?r(m.filterValues):!0,{data:L=[],total:T,pageInfo:P,isFetching:g,isLoading:R,error:S,refetch:M}=Qe(l,{pagination:{page:m.page,perPage:m.perPage},sort:{field:m.sort,order:m.order},filter:y(y({},m.filter),o)},y({enabled:C},u)),{referenceRecord:h,refetch:v,error:b,isLoading:E,isFetching:N}=Gs({id:x,reference:l,options:{enabled:x!=null&&x!==""}}),O,A;!h||L.find(V=>V.id===x)?(O=L,A=T):(O=[h,...L],A=T==null?void 0:T+1);let w=Dp(()=>{M(),v()},[M,v]);return{sort:Ip(()=>({field:m.sort,order:m.order}),[m.sort,m.order]),allChoices:O,availableChoices:L,selectedChoices:[h],displayedFilters:m.displayedFilters,error:b||S,filter:m.filter,filterValues:m.filterValues,hideFilter:f.hideFilter,isFetching:N||g,isLoading:E||R,page:m.page,perPage:m.perPage,refetch:w,resource:l,setFilters:f.setFilters,setPage:f.setPage,setPerPage:f.setPerPage,setSort:f.setSort,showFilter:f.showFilter,source:c,total:A,hasNextPage:P?P.hasNextPage:T!=null?m.page*m.perPage<T:void 0,hasPreviousPage:P?P.hasPreviousPage:m.page>1}},"useReferenceInputController");import*as bo from"react";import{useParams as Fp}from"react-router-dom";var Lr=n((e={})=>{let{disableAuthentication:t,id:r,queryOptions:o={}}=e;oe({enabled:!t});let s=z(e),a=_(),i=G(),u=ce(),l=_t(),{id:c}=Fp(),m=r||decodeURIComponent(c),{data:f,error:x,isLoading:C,isFetching:L,refetch:T}=zt(s,{id:m},y({onError:()=>{i("ra.notification.item_doesnt_exist",{type:"warning"}),u("list",s),l()},retry:!1},o));if(f&&f.id&&f.id!=m)throw new Error(`useShowController: Fetched record's id attribute (${f.id}) must match the requested 'id' (${m})`);let P=Se();return{defaultTitle:a("ra.page.show",{name:P(s,1),id:m,record:f}),error:x,isLoading:C,isFetching:L,record:f,refetch:T,resource:s}},"useShowController");import*as Lo from"react";import{createContext as Np}from"react";var Mt=Np({record:null,defaultTitle:null,isFetching:null,isLoading:null,refetch:null,resource:null});Mt.displayName="ShowContext";var Qs=n(({children:e,value:t})=>Lo.createElement(Mt.Provider,{value:t},Lo.createElement(me,{value:t&&t.record},e)),"ShowContextProvider");var uw=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);let s=Lr(t),a=bo.createElement(Qs,{value:s},e);return t.resource?bo.createElement(pe,{value:t.resource},a):a},"ShowBase");var mw=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);let s=Lr(t);return e(s)},"ShowController");import{useContext as Op,useMemo as Up}from"react";import kp from"lodash/defaults";var Pw=n(e=>{let t=Op(Mt);return Up(()=>kp({},e!=null?jp(e):{},t),[t,e])},"useShowContext"),jp=n(({record:e,data:t,defaultTitle:r,isFetching:o,isLoading:s,resource:a})=>({record:e||t,data:e||t,defaultTitle:r,isFetching:o,isLoading:s,resource:a}),"extractShowContextProps");import*as _s from"react";import{useWatch as Vp}from"react-hook-form";import Gp from"lodash/get";var Qp=n(e=>{let t=Vp();return _s.createElement(_p,y({formData:t},e))},"FormDataConsumer"),_p=n(e=>{let f=e,{children:t,form:r,formData:o,source:s,index:a}=f,i=F(f,["children","form","formData","source","index"]),u=o,l,c=!1,m;return typeof a!="undefined"?(u=Gp(o,s),l=n(x=>(c=!0,`${s}.${x}`),"getSource"),m=t(y({formData:o,scopedFormData:u,getSource:l},i))):m=t(y({formData:o},i)),Ke(typeof a!="undefined"&&m&&!c,`You're using a FormDataConsumer inside an ArrayInput and you did not call the getSource function supplied by the FormDataConsumer component. This is required for your inputs to get the proper source.

<ArrayInput source="users">
    <SimpleFormIterator>
        <TextInput source="name" />

        <FormDataConsumer>
            {({
                formData, // The whole form data
                scopedFormData, // The data for this item of the ArrayInput
                getSource, // A function to get the valid source inside an ArrayInput
                ...rest,
            }) =>
                scopedFormData.name ? (
                    <SelectInput
                        source={getSource('role')} // Will translate to "users[0].role"
                        choices={[{id: 1, name: 'Admin'}, {id: 2, name: 'User'},
                        {...rest}
                    />
                ) : null
            }
        </FormDataConsumer>
    </SimpleFormIterator>
</ArrayInput>`),m===void 0?null:m},"FormDataConsumerView"),zp=Qp;import{createContext as Wp}from"react";var St=Wp(void 0);import*as He from"react";var Hp=n(e=>{let{error:t}=e,r=_();if(t.message){let{message:o,args:s}=t;return He.createElement(He.Fragment,null,r(o,y({_:o},s)))}return He.createElement(He.Fragment,null,r(t,{_:t}))},"ValidationError"),Yp=Hp;import vo from"lodash";var zs=n((e,t=[])=>vo.isObject(e)?vo.reduce(e,(r,o,s)=>vo.merge(r,zs(o,[...t,s])),{}):{[t.join(".")]:e},"flattenKeys"),Eo=n(e=>async t=>{let r=await e(t);if(!r||Object.getOwnPropertyNames(r).length===0)return{values:t,errors:{}};let o=zs(r);return{values:{},errors:Object.keys(o).reduce((s,a)=>D(y({},s),{[a]:{type:"manual",message:o[a]}}),{})}},"getSimpleValidationResolver");import{createContext as Jp}from"react";var br=Jp(void 0);import*as Ws from"react";var qw=n(({children:e,value:t})=>Ws.createElement(br.Provider,{value:t},e),"ChoicesContextProvider");import{useContext as $p,useMemo as Zp}from"react";var oD=n((e={})=>{let t=$p(br),a=Tr({data:e.choices}),{data:r}=a,o=F(a,["data"]);return Zp(()=>{var i,u,l,c,m,f,x,C,L,T,P,g,R,S,M,h,v,b,E,N,O,A,w,U,V,q,ee,k,I,j,H,J,K,$,Ee,Ze,Ao,Fo,No,Oo,Uo,ko,jo,Vo,Go,Qo;return{allChoices:(i=t==null?void 0:t.allChoices)!=null?i:r,availableChoices:(l=(u=t==null?void 0:t.availableChoices)!=null?u:e.availableChoices)!=null?l:r,selectedChoices:(m=(c=t==null?void 0:t.selectedChoices)!=null?c:e.selectedChoices)!=null?m:r,displayedFilters:(x=(f=t==null?void 0:t.displayedFilters)!=null?f:e.displayedFilters)!=null?x:o.displayedFilters,error:(L=(C=t==null?void 0:t.error)!=null?C:e.error)!=null?L:o.error,filter:(P=(T=t==null?void 0:t.filter)!=null?T:e.filter)!=null?P:o.filter,filterValues:(R=(g=t==null?void 0:t.filterValues)!=null?g:e.filterValues)!=null?R:o.filterValues,hasNextPage:(M=(S=t==null?void 0:t.hasNextPage)!=null?S:e.hasNextPage)!=null?M:o.hasNextPage,hasPreviousPage:(v=(h=t==null?void 0:t.hasPreviousPage)!=null?h:e.hasPreviousPage)!=null?v:o.hasPreviousPage,hideFilter:(E=(b=t==null?void 0:t.hideFilter)!=null?b:e.hideFilter)!=null?E:o.hideFilter,isFetching:(O=(N=t==null?void 0:t.isFetching)!=null?N:e.isFetching)!=null?O:o.isFetching,isLoading:(w=(A=t==null?void 0:t.isLoading)!=null?A:e.isLoading)!=null?w:o.isLoading,page:(V=(U=t==null?void 0:t.page)!=null?U:e.page)!=null?V:o.page,perPage:(ee=(q=t==null?void 0:t.perPage)!=null?q:e.perPage)!=null?ee:o.perPage,refetch:(I=(k=t==null?void 0:t.refetch)!=null?k:e.refetch)!=null?I:o.refetch,resource:(H=(j=t==null?void 0:t.resource)!=null?j:e.resource)!=null?H:o.resource,setFilters:(K=(J=t==null?void 0:t.setFilters)!=null?J:e.setFilters)!=null?K:o.setFilters,setPage:(Ee=($=t==null?void 0:t.setPage)!=null?$:e.setPage)!=null?Ee:o.setPage,setPerPage:(Ao=(Ze=t==null?void 0:t.setPerPage)!=null?Ze:e.setPerPage)!=null?Ao:o.setPerPage,setSort:(No=(Fo=t==null?void 0:t.setSort)!=null?Fo:e.setSort)!=null?No:o.setSort,showFilter:(Uo=(Oo=t==null?void 0:t.showFilter)!=null?Oo:e.showFilter)!=null?Uo:o.showFilter,sort:(jo=(ko=t==null?void 0:t.sort)!=null?ko:e.sort)!=null?jo:o.sort,source:(Vo=t==null?void 0:t.source)!=null?Vo:e.source,total:(Qo=(Go=t==null?void 0:t.total)!=null?Go:e.total)!=null?Qo:o.total}},[t,r,o,e])},"useChoicesContext");import*as Je from"react";import{FormProvider as dm}from"react-hook-form";import*as Hs from"react";import{useMemo as Bp,useRef as Ys}from"react";var Js=n(({children:e})=>{let t=Ys({}),r=Ys({}),o=Bp(()=>({subscribe:(s,a)=>(r.current[s]||(r.current[s]=[]),r.current[s].push(a),()=>{r.current[s]=r.current[s].filter(i=>i!==a)}),getGroupFields:s=>t.current[s]||[],registerGroup:s=>{t.current[s]=t.current[s]||[]},unregisterGroup:s=>{delete t[s]},registerField:(s,a)=>{a!=null&&((t.current[a]||[]).includes(s)||(t.current[a]=[...t.current[a]||[],s],r.current[a]&&r.current[a].forEach(i=>i())))},unregisterField:(s,a)=>{if(a!=null)if(!t.current[a])console.warn(`Invalid form group ${a}`);else{let i=new Set(t.current[a]);i.delete(s),t.current[a]=Array.from(i),r.current[a]&&r.current[a].forEach(u=>u())}}}),[]);return Hs.createElement(St.Provider,{value:o},e)},"FormGroupsProvider");import{useCallback as qs,useMemo as cm,useEffect as Ks}from"react";import{useForm as lm}from"react-hook-form";import qp from"lodash/merge";function Ye(e,t){return qp({},Kp(e,t),t)}n(Ye,"getFormInitialValues");function Kp(e,t){return typeof e=="object"?e:typeof e=="function"?e(t):{}}n(Kp,"getValues");var $s=n((e,t)=>{let r=n((s,a)=>{s.forEach((i,u)=>{if(typeof i=="object"){o(i,`${a}.${u}.`);return}if(Array.isArray(i)){r(i,`${a}.${u}.`);return}t(`${a}.${u}`,{type:"server",message:i.toString()})})},"setErrorFromArray"),o=n((s,a)=>{Object.entries(s).forEach(([i,u])=>{if(typeof u=="object"){o(u,`${a}${i}.`);return}if(Array.isArray(u)){r(u,`${a}${i}.`);return}t(`${a}${i}`,{type:"server",message:u.toString()})})},"setErrorFromObject");o(e,"")},"setSubmissionErrors");import{useEffect as Xp,useState as em,useRef as tm}from"react";import{useFormState as rm}from"react-hook-form";var Zs=n(e=>{let[t,r]=em(!1),{isValid:o,submitCount:s,errors:a}=rm(e?{control:e}:void 0),i=tm(s);return Xp(()=>{s>i.current&&(i.current=s,Object.keys(a).length>0&&!o?r(!0):r(!1))},[a,o,s]),t},"useIsFormInvalid");import{useContext as om,useEffect as nm,useRef as sm}from"react";import{useFormState as am}from"react-hook-form";import{UNSAFE_NavigationContext as im,useLocation as um}from"react-router-dom";var Bs=n((e,t,r)=>{let o=om(im).navigator,s=um(),a=_(),{isSubmitSuccessful:i,isSubmitting:u,dirtyFields:l}=am(r?{control:r}:void 0),c=Object.keys(l).length>0,m=sm(t||s.pathname);nm(()=>{if(!e||!c)return;let f=o.block(x=>{let C=x.location.pathname.startsWith(m.current);!u&&(C||i||window.confirm(a("ra.message.unsaved_changes")))&&(f(),x.retry())});return f},[e,s,o,c,u,i,a])},"useWarnWhenUnsavedChanges");var Xs=n(e=>{let{context:t,criteriaMode:r="firstError",defaultValues:o,delayError:s,formRootPathname:a,mode:i,resolver:u,reValidateMode:l="onChange",onSubmit:c,shouldFocusError:m,shouldUnregister:f,shouldUseNativeValidation:x,warnWhenUnsavedChanges:C,validate:L}=e,T=fe(e),P=pr(),g=cm(()=>Ye(o,T),[JSON.stringify({defaultValues:o,record:T})]),R=u||(L?Eo(L):void 0),S=lm({context:t,criteriaMode:r,defaultValues:g,delayError:s,mode:i,reValidateMode:l,resolver:R,shouldFocusError:m,shouldUnregister:f,shouldUseNativeValidation:x});Ks(()=>{if(!T)return;let E=Ye(o,T);S.reset(E)},[S.reset,JSON.stringify(T,o)]);let M=Zs(S.control),h=G();Ks(()=>{M&&h("ra.message.invalid_form",{type:"warning"})},[M,h]),Bs(C,a,S.control);let v=qs(async E=>{let N;c&&(N=await c(E)),c==null&&(P==null?void 0:P.save)&&(N=await P.save(E)),N!=null&&$s(N,S.setError)},[S,c,P]),b=qs(E=>{E.stopPropagation(),S.handleSubmit(v)(E)},[S,v]);return{form:S,handleSubmit:v,formHandleSubmit:b,isInvalid:M}},"useAugmentedForm");var JD=n(e=>{let{children:t,id:r,className:o,noValidate:s=!1}=e,a=fe(e),i=z(e),{form:u,formHandleSubmit:l}=Xs(e);return Je.createElement(Ms,{value:a},Je.createElement(Cn,{prefix:`resources.${i}.fields`},Je.createElement(dm,y({},u),Je.createElement(Js,null,Je.createElement("form",{onSubmit:l,noValidate:s,id:r,className:o},t)))))},"Form");import ea from"lodash/memoize";var pm=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Le=n(e=>typeof e=="undefined"||e===null||e===""||Array.isArray(e)&&e.length===0,"isEmpty");function mm(e){return e.hasOwnProperty("message")}n(mm,"isValidationErrorMessageWithArgs");var be=n((e,t,r,o)=>typeof e=="function"?e({args:t,value:r,values:o}):t?{message:e,args:t}:e,"getMessage"),ve=n(e=>ea(e,(...t)=>JSON.stringify(t)),"memoize"),ta=n(e=>typeof e=="function","isFunction"),fm=n((e,t)=>(r,o,s)=>{let a=e(r,o,s);return a?typeof a=="string"||mm(a)?a:a.then(i=>i||t(r,o,s)):t(r,o,s)},"combine2Validators"),ra=n((...e)=>(Array.isArray(e[0])?e[0]:e).filter(ta).reduce(fm,()=>null),"composeValidators"),BD=n((...e)=>(t,r,o)=>{let s=(Array.isArray(e[0])?e[0]:e).filter(ta);for(let a of s){let i=a(t,r,o);if(i)return i}},"composeSyncValidators"),qD=ve((e="ra.validation.required")=>Object.assign((t,r)=>Le(t)?be(e,void 0,t,r):void 0,{isRequired:!0})),KD=ve((e,t="ra.validation.minLength")=>(r,o)=>!Le(r)&&r.length<e?be(t,{min:e},r,o):void 0),XD=ve((e,t="ra.validation.maxLength")=>(r,o)=>!Le(r)&&r.length>e?be(t,{max:e},r,o):void 0),eI=ve((e,t="ra.validation.minValue")=>(r,o)=>!Le(r)&&r<e?be(t,{min:e},r,o):void 0),tI=ve((e,t="ra.validation.maxValue")=>(r,o)=>!Le(r)&&r>e?be(t,{max:e},r,o):void 0),rI=ve((e="ra.validation.number")=>(t,r)=>!Le(t)&&isNaN(Number(t))?be(e,void 0,t,r):void 0),ym=ea((e,t="ra.validation.regex")=>(r,o)=>!Le(r)&&typeof r=="string"&&!e.test(r)?be(t,{pattern:e},r,o):void 0,(e,t)=>e.toString()+t),oI=ve((e="ra.validation.email")=>ym(pm,e)),gm=n(({args:e})=>({message:"ra.validation.oneOf",args:e}),"oneOfTypeMessage"),nI=ve((e,t=gm)=>(r,o)=>!Le(r)&&e.indexOf(r)===-1?be(t,{list:e},r,o):void 0),sI=n(e=>e&&e.isRequired?!0:Array.isArray(e)?!!e.find(t=>t.isRequired):!1,"isRequired");import{createContext as Rm}from"react";var vr=Rm(void 0);import*as oa from"react";import{useEffect as hm}from"react";import{useContext as Pm}from"react";var $e=n(()=>Pm(St),"useFormGroups");var gI=n(({children:e,name:t})=>{let r=$e();return hm(()=>{if(!r||!r.registerGroup||!r.unregisterGroup){console.warn("The FormGroupContextProvider can only be used inside a FormContext such as provided by the SimpleForm and TabbedForm components");return}return r.registerGroup(t),()=>{r.unregisterGroup(t)}},[r,t]),oa.createElement(vr.Provider,{value:t},e)},"FormGroupContextProvider");import{useEffect as xm}from"react";import{useFormContext as Cm}from"react-hook-form";import wo from"lodash/get";var na=n(e=>{let{defaultValue:t,source:r}=e,o=fe(e),{getValues:s,resetField:a}=Cm(),i=wo(o,r),u=wo(s(),r);xm(()=>{if(t!=null&&u==null&&i==null){if(r.split(".").some(c=>Tm.test(c))){let c=r.split(".").slice(0,-1).join(".");if(wo(s(),c)==null)return}a(r,{defaultValue:t})}})},"useApplyInputDefaultValues"),Tm=/^\d+$/;import*as sa from"react";import{isValidElement as aa,useCallback as Do}from"react";import Io from"lodash/get";var ia=n(({optionText:e="name",optionValue:t="id",disableValue:r="disabled",translateChoice:o=!0})=>{let s=_(),a=Do(l=>{if(aa(e))return sa.createElement(me,{value:l},e);let c=typeof e=="function"?e(l):Io(l,e);return aa(c)?c:o?s(String(c),{_:c}):String(c)},[e,s,o]),i=Do(l=>Io(l,t),[t]),u=Do(l=>Io(l,r),[r]);return{getChoiceText:a,getChoiceValue:i,getDisableValue:u}},"useChoices");import{useCallback as Mm,useEffect as ua,useState as Sm}from"react";import Er from"lodash/get";import Lm from"lodash/isEqual";import{useFormState as bm}from"react-hook-form";var NI=n(e=>{let{dirtyFields:t,touchedFields:r,errors:o}=bm(),s=$e(),[a,i]=Sm({errors:void 0,isDirty:!1,isTouched:!1,isValid:!0}),u=Mm(()=>{let c=s.getGroupFields(e).map(f=>({name:f,error:Er(o,f,void 0),isDirty:Er(t,f,!1),isValid:Er(o,f,void 0)==null,isTouched:Er(r,f,!1)})).filter(f=>f!=null),m=vm(c);i(f=>Lm(f,m)?f:m)},[t,o,r,s,e]);return ua(()=>{u()},[JSON.stringify({dirtyFields:t,errors:o,touchedFields:r}),u]),ua(()=>s.subscribe(e,()=>{u()}),[s,e,u]),a},"useFormGroup"),vm=n(e=>e.reduce((t,r)=>{let o=t.errors||{};return r.error&&(o[r.name]=r.error),{isDirty:t.isDirty||r.isDirty,errors:o,isTouched:t.isTouched||r.isTouched,isValid:t.isValid&&r.isValid}},{isDirty:!1,errors:void 0,isValid:!0,isTouched:!1}),"getFormGroupState");import{useContext as Em}from"react";var ca=n(()=>Em(vr),"useFormGroupContext");var la=n(()=>{let e=_();return t=>{if(t.message!=null){let{message:r,args:o}=t;return e(r,y({_:r},o))}return e(t,{_:t})}},"useGetValidationErrorMessage");import{useEffect as wm}from"react";import{useFormContext as Dm}from"react-hook-form";var WI=n((e,t)=>{let{reset:r}=Dm();wm(()=>{if(!t)return;let o=Ye(e,t);r(o)},[r,JSON.stringify(t,e)])},"useInitializeFormWithRecord");import{useEffect as Am}from"react";import{useController as Fm,useFormContext as Nm}from"react-hook-form";import Om from"lodash/get";var Im=n(e=>e&&e.isRequired?!0:Array.isArray(e)?e.some(t=>t.isRequired):!1,"isRequired"),da=Im;var lA=n(e=>{let b=e,{defaultValue:t,format:r,id:o,isRequired:s,name:a,onBlur:i,onChange:u,parse:l,source:c,validate:m}=b,f=F(b,["defaultValue","format","id","isRequired","name","onBlur","onChange","parse","source","validate"]),x=a||c,C=ca(),L=$e(),T=fe(),P=la(),g=Nm();Am(()=>{if(!(!L||C==null))return L.registerField(c,C),()=>{L.unregisterField(c,C)}},[L,C,c]);let R=Array.isArray(m)?ra(m):m,{field:S,fieldState:M,formState:h}=Fm(y({name:x,defaultValue:Om(T,c,t),rules:{validate:async E=>{if(!R)return!0;let N=await R(E,g.getValues(),e);return N?P(N):!0}}},f));na(e);let v=D(y({},S),{value:r?r(S.value):S.value,onBlur:(...E)=>{i&&i(...E),S.onBlur()},onChange:(...E)=>{var O,A,w,U,V;u&&u(...E);let N=e.type==="checkbox"&&((A=(O=E[0])==null?void 0:O.target)==null?void 0:A.value)==="on"?E[0].target.checked:(V=(U=(w=E[0])==null?void 0:w.target)==null?void 0:U.value)!=null?V:E[0];S.onChange(l?l(N):N)}});return{id:o||c,field:v,fieldState:M,formState:h,isRequired:s||da(m)}},"useInput");import{useCallback as Um,isValidElement as km}from"react";import pa from"lodash/set";var hA=n(({allowCreate:e,choices:t,createText:r="ra.action.create",createValue:o="@@create",emptyText:s="",emptyValue:a=null,limitChoicesToValue:i,matchSuggestion:u,optionText:l,optionValue:c,selectedItem:m,suggestionLimit:f=0,translateChoice:x})=>{let C=_(),{getChoiceText:L,getChoiceValue:T}=ia({optionText:l,optionValue:c,translateChoice:x}),P=Um(Gm({allowCreate:e,choices:t,createText:r,createValue:o,emptyText:C(s,{_:s}),emptyValue:a,getChoiceText:L,getChoiceValue:T,limitChoicesToValue:i,matchSuggestion:u,optionText:l,optionValue:c,selectedItem:m,suggestionLimit:f}),[e,t,r,o,s,a,L,T,i,u,l,c,m,f,C]);return{getChoiceText:L,getChoiceValue:T,getSuggestions:P}},"useSuggestions"),jm=n(e=>e?e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):"","escapeRegExp"),Vm=n(e=>(t,r,o=!1)=>{let s=e(r),a=km(s),i=jm(t);return a?!1:s&&!!s.match(new RegExp(o?`^${i}$`:i,"i"))},"defaultMatchSuggestion"),Gm=n(({allowCreate:e=!1,choices:t=[],createText:r="ra.action.create",createValue:o="@@create",emptyText:s="",emptyValue:a=null,optionText:i="name",optionValue:u="id",getChoiceText:l,getChoiceValue:c,limitChoicesToValue:m=!1,matchSuggestion:f=Vm(l),selectedItem:x,suggestionLimit:C=0})=>L=>{let T=[];x&&!Array.isArray(x)&&f(L,x)?m?T=t.filter(R=>c(R)===c(x)):T=[...t]:T=t.filter(R=>f(L,R)||x!=null&&(Array.isArray(x)?x.some(S=>c(R)===c(S)):c(R)===c(x))),T=Qm(T,C);let P=T.some(R=>f(L,R,!0));if(e){let R=!!x&&!Array.isArray(x)?f(L,x,!0):!1;!P&&!R&&T.push(_m({optionText:i,optionValue:u,text:r,value:o}))}return T.filter((R,S)=>T.indexOf(R)===S)},"getSuggestionsFactory"),Qm=n((e,t=0)=>Number.isInteger(t)&&t>0?e.slice(0,t):e,"limitSuggestions"),_m=n(({optionText:e="name",optionValue:t="id",text:r="",value:o=null})=>{let s={};return pa(s,t,o),typeof e=="string"&&pa(s,e,r),s},"getSuggestion");var BA="I18N_TRANSLATE",qA="I18N_CHANGE_LOCALE";export{An as AUTH_CHECK,Fn as AUTH_ERROR,On as AUTH_GET_PERMISSIONS,In as AUTH_LOGIN,Nn as AUTH_LOGOUT,Zo as AdminRouter,Be as AuthContext,WP as Authenticated,$o as BasenameContextProvider,Zr as CREATE,br as ChoicesContext,qw as ChoicesContextProvider,Pi as ComponentPropType,ST as CoreAdmin,co as CoreAdminContext,po as CoreAdminRoutes,rs as CoreAdminUI,iL as CreateBase,yt as CreateContext,xs as CreateContextProvider,pL as CreateController,Fc as CustomRoutes,cn as DEFAULT_LOCALE,Kr as DELETE,Xr as DELETE_MANY,tt as DataProviderContext,qL as EditBase,gt as EditContext,Ss as EditContextProvider,rb as EditController,_c as ExporterContext,mi as FieldTitle,JD as Form,zp as FormDataConsumer,vr as FormGroupContext,gI as FormGroupContextProvider,St as FormGroupsContext,Js as FormGroupsProvider,Hr as GET_LIST,Jr as GET_MANY,$r as GET_MANY_REFERENCE,Yr as GET_ONE,pt as HIDE_FILTER,ro as HttpError,qA as I18N_CHANGE_LOCALE,BA as I18N_TRANSLATE,qe as I18nContext,Nt as I18nContextProvider,bM as InferenceTypes,Q as InferredElement,Gt as LabelPrefixContext,Cn as LabelPrefixContextProvider,rv as ListBase,Rt as ListContext,Ns as ListContextProvider,iv as ListController,Pt as ListFilterContext,xt as ListPaginationContext,ht as ListSortContext,At as NotificationContext,on as NotificationContextProvider,Ms as OptionalRecordContextProvider,kr as Ready,yr as RecordContext,me as RecordContextProvider,ss as Resource,Jt as ResourceContext,pe as ResourceContextProvider,io as ResourceDefinitionContext,Bn as ResourceDefinitionContextProvider,Ae as SET_FILTER,We as SET_PAGE,lt as SET_PER_PAGE,ct as SET_SORT,dt as SHOW_FILTER,ne as SORT_ASC,ar as SORT_DESC,cr as SaveContext,lr as SaveContextProvider,uw as ShowBase,Mt as ShowContext,Qs as ShowContextProvider,mw as ShowController,Dt as StoreContext,tn as StoreContextProvider,Bf as StoreSetter,xy as TestTranslationProvider,Ot as TranslatableContext,by as TranslatableContextProvider,Br as UPDATE,qr as UPDATE_MANY,Yp as ValidationError,Qr as WithPermissions,kL as WithRecord,nI as choices,fm as combine2Validators,Mh as combineDataProviders,BD as composeSyncValidators,ra as composeValidators,Wr as convertLegacyAuthProvider,to as convertLegacyDataProvider,Ge as defaultDataProvider,st as defaultExporter,yo as downloadCSV,oI as email,Ya as escapePath,eo as fetchActionsWithArrayOfIdentifiedRecordsResponse,kn as fetchActionsWithArrayOfRecordsResponse,Un as fetchActionsWithRecordResponse,jn as fetchActionsWithTotalResponse,Hc as fetchRelatedRecords,zn as fetchUtils,dl as getElementsFromRecords,Fr as getFieldLabelTranslationArgs,vm as getFormGroupState,Fb as getListControllerProps,Si as getMutationMode,vs as getNumberOrDefault,vd as getQuery,Bl as getRecordFromLocation,ks as getSelectedReferencesStatus,Eo as getSimpleValidationResolver,gp as getStatusForArrayInput,fp as getStatusForInput,xe as getStorage,Gm as getSuggestionsFactory,Ie as getValuesFromRecords,bd as hasCustomParams,ys as inferTypeFromValues,Ds as injectedProps,sI as isRequired,af as linkToRecord,Af as localStorageStore,XD as maxLength,tI as maxValue,wt as memoryStore,Yg as mergeRefs,Iy as mergeTranslations,KD as minLength,eI as minValue,rI as number,Ld as parseQueryFromLocation,ir as queryReducer,ym as regex,ue as removeDoubleSlashes,X as removeEmpty,Or as removeKey,qD as required,Dy as resolveBrowserLocale,cf as resolveRedirectTo,lh as sanitizeFetchType,Nb as sanitizeListRestProps,$s as setSubmissionErrors,pn as shallowEqual,Lh as testDataProvider,Re as undoableEventEmitter,na as useApplyInputDefaultValues,Xs as useAugmentedForm,te as useAuthProvider,jr as useAuthState,oe as useAuthenticated,ie as useBasename,Ve as useCheckAuth,Al as useCheckMinimumRequiredProps,ia as useChoices,oD as useChoicesContext,Yn as useCreate,RL as useCreateContext,fr as useCreateController,vt as useCreatePath,Y as useDataProvider,Kg as useDeepCompareEffect,Ht as useDelete,cC as useDeleteMany,Vl as useDeleteWithConfirmController,Ol as useDeleteWithUndoController,ib as useEditContext,Rr as useEditController,Rn as useEventCallback,Jv as useExpanded,Rl as useFilterState,NI as useFormGroup,ca as useFormGroupContext,mu as useGetIdentity,Qe as useGetList,ax as useGetMany,_e as useGetManyAggregate,Wt as useGetManyReference,zt as useGetOne,et as useGetPermissions,Se as useGetResourceLabel,la as useGetValidationErrorMessage,Ut as useI18nProvider,WI as useInitializeFormWithRecord,lA as useInput,kh as useIsDataLoaded,Zs as useIsFormInvalid,hn as useIsMounted,jt as useLabelPrefix,Tr as useList,Cv as useListContext,hr as useListController,bv as useListFilterContext,Iv as useListPaginationContext,Ls as useListParams,Uv as useListSortContext,Qh as useLoading,Qy as useLocale,ke as useLocaleState,lu as useLogin,De as useLogout,zr as useLogoutIfAccessDenied,mr as useMutationMiddlewares,Ft as useNotificationContext,G as useNotify,ft as usePaginationState,Vr as usePermissions,Gr as usePermissionsOptimized,Is as usePickFilterContext,Fs as usePickPaginationContext,dr as usePickSaveContext,As as usePickSortContext,Di as usePrevious,fe as useRecordContext,ye as useRecordSelection,ce as useRedirect,Gs as useReference,eE as useReferenceArrayFieldController,EE as useReferenceArrayInputController,jE as useReferenceInputController,dE as useReferenceManyFieldController,gE as useReferenceOneFieldController,_t as useRefresh,AS as useRegisterMutationMiddleware,Tn as useRemoveFromStore,Mn as useResetStore,z as useResourceContext,as as useResourceDefinition,Yt as useResourceDefinitionContext,Bt as useResourceDefinitions,W as useSafeSetState,pr as useSaveContext,Bo as useScrollToTop,Wy as useSetLocale,Pw as useShowContext,Lr as useShowController,mt as useSortState,le as useStore,Ce as useStoreContext,hA as useSuggestions,Pn as useTimeout,sg as useTranslatable,lg as useTranslatableContext,_ as useTranslate,kt as useTranslateLabel,ur as useUnselect,zv as useUnselectAll,Jn as useUpdate,Wx as useUpdateMany,Bs as useWarnWhenUnsavedChanges,gn as useWhyDidYouUpdate,Sd as validQueryParams,Ke as warning};
//# sourceMappingURL=index.js.map