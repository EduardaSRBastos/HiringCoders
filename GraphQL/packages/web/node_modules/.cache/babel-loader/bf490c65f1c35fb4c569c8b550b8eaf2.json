{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Duda Bastos\\\\Desktop\\\\Programing\\\\Hiring Coders\\\\GraphQL\\\\packages\\\\web\\\\src\\\\components\\\\ClientEdit.js\",\n    _s = $RefreshSig$();\n\nimport React, { useMemo, useState, useEffect } from 'react';\nimport { useQuery, useMutation } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CLIENT = gql`\n  query CLIENT($clientId: ID!) {\n    client(id: $clientId) {\n      id\n      name\n      email\n    }\n  }\n`;\nconst UPDATE_CLIENT = gql`\n  mutation UPDATE_CLIENT($id: ID!, $name: String!, $email: String!) {\n    updateClient(input: { id: $id, name: $name, email: $email }) {\n      id\n      name\n      email\n    }\n  }\n`;\nexport function ClientEdit(_ref) {\n  _s();\n\n  let {\n    clientId\n  } = _ref;\n  const {\n    data\n  } = useQuery(CLIENT, {\n    variables: {\n      clientId\n    },\n    skip: !clientId,\n    fetchPolicy: 'cache-first'\n  });\n  const [updateClient] = useMutation(UPDATE_CLIENT);\n  const initialValues = useMemo(() => {\n    var _data$client$name, _data$client$email;\n\n    return {\n      name: (_data$client$name = data === null || data === void 0 ? void 0 : data.client.name) !== null && _data$client$name !== void 0 ? _data$client$name : '',\n      email: (_data$client$email = data === null || data === void 0 ? void 0 : data.client.email) !== null && _data$client$email !== void 0 ? _data$client$email : ''\n    };\n  }, [data]);\n  const [values, setValues] = useState(initialValues);\n  useEffect(() => setValues(initialValues), [initialValues]);\n\n  const handleNameChange = event => {\n    event.persist();\n    setValues(values => ({ ...values,\n      name: event.target.value\n    }));\n  };\n\n  const handleEmailChange = event => {\n    event.persist();\n    setValues(values => ({ ...values,\n      email: event.target.value\n    }));\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    updateClient({\n      variables: {\n        id: clientId,\n        name: values.name,\n        email: values.email\n      }\n    }).then(console.log);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: values.name,\n        onChange: handleNameChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: values.email,\n        onChange: handleEmailChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Salvar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ClientEdit, \"HlQO4K+KS362kxZYepJ7FkhfZdk=\", false, function () {\n  return [useQuery, useMutation];\n});\n\n_c = ClientEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"ClientEdit\");","map":{"version":3,"names":["React","useMemo","useState","useEffect","useQuery","useMutation","gql","CLIENT","UPDATE_CLIENT","ClientEdit","clientId","data","variables","skip","fetchPolicy","updateClient","initialValues","name","client","email","values","setValues","handleNameChange","event","persist","target","value","handleEmailChange","handleSubmit","preventDefault","id","then","console","log"],"sources":["C:/Users/Duda Bastos/Desktop/Programing/Hiring Coders/GraphQL/packages/web/src/components/ClientEdit.js"],"sourcesContent":["import React, { useMemo, useState, useEffect } from 'react';\r\nimport { useQuery, useMutation } from 'react-apollo';\r\nimport gql from 'graphql-tag';\r\n\r\nconst CLIENT = gql`\r\n  query CLIENT($clientId: ID!) {\r\n    client(id: $clientId) {\r\n      id\r\n      name\r\n      email\r\n    }\r\n  }\r\n`;\r\n\r\nconst UPDATE_CLIENT = gql`\r\n  mutation UPDATE_CLIENT($id: ID!, $name: String!, $email: String!) {\r\n    updateClient(input: { id: $id, name: $name, email: $email }) {\r\n      id\r\n      name\r\n      email\r\n    }\r\n  }\r\n`;\r\n\r\nexport function ClientEdit({ clientId }) {\r\n  const { data } = useQuery(CLIENT, {\r\n    variables: {\r\n      clientId,\r\n    },\r\n    skip: !clientId,\r\n    fetchPolicy: 'cache-first',\r\n  });\r\n\r\n  const [updateClient] = useMutation(UPDATE_CLIENT);\r\n\r\n  const initialValues = useMemo(\r\n    () => ({\r\n      name: data?.client.name ?? '',\r\n      email: data?.client.email ?? '',\r\n    }),\r\n    [data]\r\n  );\r\n\r\n  const [values, setValues] = useState(initialValues);\r\n\r\n  useEffect(() => setValues(initialValues), [initialValues]);\r\n\r\n  const handleNameChange = (event) => {\r\n    event.persist();\r\n\r\n    setValues((values) => ({\r\n      ...values,\r\n      name: event.target.value,\r\n    }));\r\n  };\r\n\r\n  const handleEmailChange = (event) => {\r\n    event.persist();\r\n\r\n    setValues((values) => ({\r\n      ...values,\r\n      email: event.target.value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    updateClient({\r\n      variables: {\r\n        id: clientId,\r\n        name: values.name,\r\n        email: values.email,\r\n      },\r\n    }).then(console.log);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <fieldset>\r\n        <input type=\"text\" value={values.name} onChange={handleNameChange} />\r\n      </fieldset>\r\n      <fieldset>\r\n        <input type=\"text\" value={values.email} onChange={handleEmailChange} />\r\n      </fieldset>\r\n      <button type=\"submit\">Salvar</button>\r\n    </form>\r\n  );\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,OAAhB,EAAyBC,QAAzB,EAAmCC,SAAnC,QAAoD,OAApD;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,cAAtC;AACA,OAAOC,GAAP,MAAgB,aAAhB;;AAEA,MAAMC,MAAM,GAAGD,GAAI;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;AAUA,MAAME,aAAa,GAAGF,GAAI;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;AAUA,OAAO,SAASG,UAAT,OAAkC;EAAA;;EAAA,IAAd;IAAEC;EAAF,CAAc;EACvC,MAAM;IAAEC;EAAF,IAAWP,QAAQ,CAACG,MAAD,EAAS;IAChCK,SAAS,EAAE;MACTF;IADS,CADqB;IAIhCG,IAAI,EAAE,CAACH,QAJyB;IAKhCI,WAAW,EAAE;EALmB,CAAT,CAAzB;EAQA,MAAM,CAACC,YAAD,IAAiBV,WAAW,CAACG,aAAD,CAAlC;EAEA,MAAMQ,aAAa,GAAGf,OAAO,CAC3B;IAAA;;IAAA,OAAO;MACLgB,IAAI,uBAAEN,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEO,MAAN,CAAaD,IAAf,iEAAuB,EADtB;MAELE,KAAK,wBAAER,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEO,MAAN,CAAaC,KAAf,mEAAwB;IAFxB,CAAP;EAAA,CAD2B,EAK3B,CAACR,IAAD,CAL2B,CAA7B;EAQA,MAAM,CAACS,MAAD,EAASC,SAAT,IAAsBnB,QAAQ,CAACc,aAAD,CAApC;EAEAb,SAAS,CAAC,MAAMkB,SAAS,CAACL,aAAD,CAAhB,EAAiC,CAACA,aAAD,CAAjC,CAAT;;EAEA,MAAMM,gBAAgB,GAAIC,KAAD,IAAW;IAClCA,KAAK,CAACC,OAAN;IAEAH,SAAS,CAAED,MAAD,KAAa,EACrB,GAAGA,MADkB;MAErBH,IAAI,EAAEM,KAAK,CAACE,MAAN,CAAaC;IAFE,CAAb,CAAD,CAAT;EAID,CAPD;;EASA,MAAMC,iBAAiB,GAAIJ,KAAD,IAAW;IACnCA,KAAK,CAACC,OAAN;IAEAH,SAAS,CAAED,MAAD,KAAa,EACrB,GAAGA,MADkB;MAErBD,KAAK,EAAEI,KAAK,CAACE,MAAN,CAAaC;IAFC,CAAb,CAAD,CAAT;EAID,CAPD;;EASA,MAAME,YAAY,GAAIL,KAAD,IAAW;IAC9BA,KAAK,CAACM,cAAN;IACAd,YAAY,CAAC;MACXH,SAAS,EAAE;QACTkB,EAAE,EAAEpB,QADK;QAETO,IAAI,EAAEG,MAAM,CAACH,IAFJ;QAGTE,KAAK,EAAEC,MAAM,CAACD;MAHL;IADA,CAAD,CAAZ,CAMGY,IANH,CAMQC,OAAO,CAACC,GANhB;EAOD,CATD;;EAWA,oBACE;IAAM,QAAQ,EAAEL,YAAhB;IAAA,wBACE;MAAA,uBACE;QAAO,IAAI,EAAC,MAAZ;QAAmB,KAAK,EAAER,MAAM,CAACH,IAAjC;QAAuC,QAAQ,EAAEK;MAAjD;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF,eAIE;MAAA,uBACE;QAAO,IAAI,EAAC,MAAZ;QAAmB,KAAK,EAAEF,MAAM,CAACD,KAAjC;QAAwC,QAAQ,EAAEQ;MAAlD;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAJF,eAOE;MAAQ,IAAI,EAAC,QAAb;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAPF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAWD;;GA/DelB,U;UACGL,Q,EAQMC,W;;;KATTI,U"},"metadata":{},"sourceType":"module"}